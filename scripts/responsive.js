!function(){"use strict";var t,e={};t=e,function(){const e="1.2.0";function i(t){alert("Mod ERROR:\n"+t);const e=new Error(t);throw console.error(e),e}const n=new TextEncoder;function s(t){return!!t&&"object"==typeof t&&!Array.isArray(t)}function a(t){const e=new Set;return t.filter((t=>!e.has(t)&&e.add(t)))}const r=new Map,o=new Set;function h(t){o.has(t)||(o.add(t),console.warn(t))}function l(t){const e=[],i=new Map,n=new Set;for(const s of u.values()){const a=s.patching.get(t.name);if(a){e.push(...a.hooks);for(const[e,r]of a.patches.entries())i.has(e)&&i.get(e)!==r&&h(`ModSDK: Mod '${s.name}' is patching function ${t.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${e}\nPatch1:\n${i.get(e)||""}\nPatch2:\n${r}`),i.set(e,r),n.add(s.name)}}e.sort(((t,e)=>e.priority-t.priority));const s=function(t,e){if(0===e.size)return t;let i=t.toString().replaceAll("\r\n","\n");for(const[n,s]of e.entries())i.includes(n)||h(`ModSDK: Patching ${t.name}: Patch ${n} not applied`),i=i.replaceAll(n,s);return(0,eval)(`(${i})`)}(t.original,i);let a=function(e){var i,a;const r=null===(a=(i=y.errorReporterHooks).hookChainExit)||void 0===a?void 0:a.call(i,t.name,n),o=s.apply(this,e);return null==r||r(),o};for(let i=e.length-1;i>=0;i--){const n=e[i],s=a;a=function(e){var i,a;const r=null===(a=(i=y.errorReporterHooks).hookEnter)||void 0===a?void 0:a.call(i,t.name,n.mod),o=n.hook.apply(this,[e,t=>{if(1!==arguments.length||!Array.isArray(e))throw new Error(`Mod ${n.mod} failed to call next hook: Expected args to be array, got ${typeof t}`);return s.call(this,t)}]);return null==r||r(),o}}return{hooks:e,patches:i,patchesSources:n,enter:a,final:s}}function c(t,e=!1){let i=r.get(t);if(i)e&&(i.precomputed=l(i));else{let e=window;const a=t.split(".");for(let i=0;i<a.length-1;i++)if(e=e[a[i]],!s(e))throw new Error(`ModSDK: Function ${t} to be patched not found; ${a.slice(0,i+1).join(".")} is not object`);const o=e[a[a.length-1]];if("function"!=typeof o)throw new Error(`ModSDK: Function ${t} to be patched not found`);const h=function(t){let e=-1;for(const i of n.encode(t)){let t=255&(e^i);for(let e=0;e<8;e++)t=1&t?-306674912^t>>>1:t>>>1;e=e>>>8^t}return(~e>>>0).toString(16).padStart(8,"0").toUpperCase()}(o.toString().replaceAll("\r\n","\n")),c={name:t,original:o,originalHash:h};i=Object.assign(Object.assign({},c),{precomputed:l(c),router:()=>{},context:e,contextProperty:a[a.length-1]}),i.router=function(t){return function(...e){return t.precomputed.enter.apply(this,[e])}}(i),r.set(t,i),e[i.contextProperty]=i.router}return i}function g(){for(const t of r.values())t.precomputed=l(t)}function d(){const t=new Map;for(const[e,i]of r)t.set(e,{name:e,original:i.original,originalHash:i.originalHash,sdkEntrypoint:i.router,currentEntrypoint:i.context[i.contextProperty],hookedByMods:a(i.precomputed.hooks.map((t=>t.mod))),patchedByMods:Array.from(i.precomputed.patchesSources)});return t}const u=new Map;function p(t){u.get(t.name)!==t&&i(`Failed to unload mod '${t.name}': Not registered`),u.delete(t.name),t.loaded=!1,g()}function m(t,e){t&&"object"==typeof t||i("Failed to register mod: Expected info object, got "+typeof t),"string"==typeof t.name&&t.name||i("Failed to register mod: Expected name to be non-empty string, got "+typeof t.name);let n=`'${t.name}'`;"string"==typeof t.fullName&&t.fullName||i(`Failed to register mod ${n}: Expected fullName to be non-empty string, got ${typeof t.fullName}`),n=`'${t.fullName} (${t.name})'`,"string"!=typeof t.version&&i(`Failed to register mod ${n}: Expected version to be string, got ${typeof t.version}`),t.repository||(t.repository=void 0),void 0!==t.repository&&"string"!=typeof t.repository&&i(`Failed to register mod ${n}: Expected repository to be undefined or string, got ${typeof t.version}`),null==e&&(e={}),e&&"object"==typeof e||i(`Failed to register mod ${n}: Expected options to be undefined or object, got ${typeof e}`);const a=!0===e.allowReplace,r=u.get(t.name);r&&(r.allowReplace&&a||i(`Refusing to load mod ${n}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),p(r));const o=t=>{let e=d.patching.get(t.name);return e||(e={hooks:[],patches:new Map},d.patching.set(t.name,e)),e},h=(t,e)=>(...s)=>{var a,r;const o=null===(r=(a=y.errorReporterHooks).apiEndpointEnter)||void 0===r?void 0:r.call(a,t,d.name);d.loaded||i(`Mod ${n} attempted to call SDK function after being unloaded`);const h=e(...s);return null==o||o(),h},l={unload:h("unload",(()=>p(d))),hookFunction:h("hookFunction",((t,e,s)=>{"string"==typeof t&&t||i(`Mod ${n} failed to patch a function: Expected function name string, got ${typeof t}`);const a=c(t),r=o(a);"number"!=typeof e&&i(`Mod ${n} failed to hook function '${t}': Expected priority number, got ${typeof e}`),"function"!=typeof s&&i(`Mod ${n} failed to hook function '${t}': Expected hook function, got ${typeof s}`);const h={mod:d.name,priority:e,hook:s};return r.hooks.push(h),g(),()=>{const t=r.hooks.indexOf(h);t>=0&&(r.hooks.splice(t,1),g())}})),patchFunction:h("patchFunction",((t,e)=>{"string"==typeof t&&t||i(`Mod ${n} failed to patch a function: Expected function name string, got ${typeof t}`);const a=c(t),r=o(a);s(e)||i(`Mod ${n} failed to patch function '${t}': Expected patches object, got ${typeof e}`);for(const[s,a]of Object.entries(e))"string"==typeof a?r.patches.set(s,a):null===a?r.patches.delete(s):i(`Mod ${n} failed to patch function '${t}': Invalid format of patch '${s}'`);g()})),removePatches:h("removePatches",(t=>{"string"==typeof t&&t||i(`Mod ${n} failed to patch a function: Expected function name string, got ${typeof t}`);const e=c(t);o(e).patches.clear(),g()})),callOriginal:h("callOriginal",((t,e,s)=>{"string"==typeof t&&t||i(`Mod ${n} failed to call a function: Expected function name string, got ${typeof t}`);const a=c(t);return Array.isArray(e)||i(`Mod ${n} failed to call a function: Expected args array, got ${typeof e}`),a.original.apply(null!=s?s:globalThis,e)})),getOriginalHash:h("getOriginalHash",(t=>("string"==typeof t&&t||i(`Mod ${n} failed to get hash: Expected function name string, got ${typeof t}`),c(t).originalHash)))},d={name:t.name,fullName:t.fullName,version:t.version,repository:t.repository,allowReplace:a,api:l,loaded:!0,patching:new Map};return u.set(t.name,d),Object.freeze(l)}function A(){const t=[];for(const e of u.values())t.push({name:e.name,fullName:e.fullName,version:e.version,repository:e.repository});return t}let y;const b=void 0===window.bcModSdk?window.bcModSdk=function(){const t={version:e,apiVersion:1,registerMod:m,getModsInfo:A,getPatchingInfo:d,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return y=t,Object.freeze(t)}():(s(window.bcModSdk)||i("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&i(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(t,"__esModule",{value:!0}),t.default=b}();var i,n=(i=e)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const s="1.1.1",a="BondageClub Responsive",r="https://github.com/dynilath/BCResponsive",o="BCResponsiveSetting",h={Active:"#CCC",Hover:"#80FFFF",strokeWidth:2,Screen:{center_x:1e3,center_y:500},Dialog:{roundRadius:15,padding:35,control_button_width:200,control_button_height:50},Text:{Base:"Black",Lesser:"#808080",padding:5},Button:{text:"Black",hover:"rgba(128, 255, 255, 1)",idle:"rgba(255, 255, 255, 1)",disabled:"rgba(128, 128, 128, 1)"},Input:{height:60},Chips:{active:"rgba(128, 255, 255, 1)",hover:"rgba(204, 204, 204, 0.5)",border:5},Scrollbar:{width:30,spacing:5,button_height:100},SegmentButton:{active:"rgba(160, 255, 255, 1)",hover:"rgba(204, 204, 204, 0.5)",border:5},Tab:{active:"rgba(160, 255, 255, 1)",hover:"rgba(204, 204, 204, 0.5)",border:5},Switch:{on:"#80FFFF",off:"#9A9A9A"}},l="Default",c=0,g=5,d="BCResponsiveData";function u(t){return"activity"===t.mode}function p(t){return"orgasm"===t.mode}function m(t){return"spicer"===t.mode}function A(t){return Array.isArray(t)&&t.every((t=>"number"==typeof t))}function y(t){return Array.isArray(t)&&t.every((t=>"string"==typeof t))}function b(t,e){return i=>0===i?t:e}const w={settings:{enable:!0},hot:["n... Nyah♥","Oooh","mmmmmh!","NYyaaA♥"],medium:["mm","aaaah","nyAh♥"],light:["nyah♥","Aah!","mh","oh!♥","mh♥"],low:["","","mh","♥oh♥","ah","...♥"],orgasm:["Nya...Ny...NyaaAAaah!","Mmmmh... MMmh... Hhhmmmm...","Oooooh... Mmmmh... OooOOOOh!","Mmmhnn... Nyhmm... Nyah!"],pain:["Aie!","Aoouch!","Aaaaie!","Ouch","Aow"],tickle:["Hahaha!","Mmmmhahaha!","Muhahah...","Ha!Ha!"]},M={pain:["Slap","Bite","Spank","Kick","Pinch","SpankItem","ShockItem"],tickle:["Tickle","TickleItem"],masturbate:["MasturbateHand","MasturbateFist","MasturbateFoot","MasturbateTongue","MasturbateItem","PenetrateFast","PenetrateSlow","PenetrateItem"]};const v={EN:{setting_button_text:"Responsive",responsive_setting_title:"- BC Responsive Setting -",setting_button_popup:"BC Responsive Setting",setting_enable:"Enable Responsive",setting_title_low:"Low",setting_title_light:"Light",setting_title_medium:"Medium",setting_title_hot:"Hot",setting_title_orgasm:"Orgasm",setting_title_pain:"Pain",setting_title_tickle:"Tickle",setting_input_invalid:"Syntax Error","General::Confirm":"Confirm","General::Cancel":"Cancel","General::Add":"Add","General::Delete":"Delete","General::Reset":"Reset","General::Clear":"Clear","General::AllSet":"All Set","CharaInfo::MemberID":"Member ID","CharaInfo::Name":"Member Name","Default::NewPersonality":"New Personality","Default::NewResponseName":"New Response","Default::ExampleMessage":"Example Message","Default::Pain":"Pain","Default::Tickle":"Tickle","Default::Orgasm":"Orgasm","Default::ItemName::Pain":"Pain","Default::ItemName::Tickle":"Tickle","Default::ItemName::Masturbate":"Masturbate","Default::ItemName::Orgasm":"Orgasm","Default::ItemName::HighArousal":"Hot Arousal","Default::ItemName::MidArousal":"Mid Arousal","Default::ItemName::LowArousal":"Light Arousal","Default::Message::PainAction":"{me} feels the pain and frowned.","Default::Message::TickleAction":"{me} squirms from the tickling.","MainMenu::PersonalitySetting":"Personality Setting","MainMenu::ResponseSetting":"Response Setting","MainMenu::MainSwitch":"Plugin Switch","PersonaMenu::EditName":"Edit Name","PersonaMenu::Import":"Import/Export","PersonaMenu::Delete":"Delete","PersonaMenu::Confirm?":"Confirm Delete?","PersonaMenu::CreateNew":"Create New","PersonaMenu::DeleteMode":"Delete Response Mode","PersonaImport::Title":"Import/Export Personality","PersonaImport::InvalidInput":"Invalid Input","RenamePopup::PersonaName::Title":"Enter New Name","PersonaInfo::BlackList":"Edit Blaacklist","MemberListPopup::PersonaBlackList::Title":"Edit Blacklist for Personality","TriggerMode::activity":"Activity","TriggerMode::orgasm":"Orgasm","TriggerMode::spicer":"Spicer","TriggerMode::event":"Event","TriggerInfo::AddNew":"Add New","TriggerInfo::Name":"Name:","TriggerInfo::OnOff":"On/Off:","TriggerInfo::Mode":"Mode:","TriggerInfo::OnActivity":"Trigger Activity:","TriggerInfo::OnBodyparts":"Trigger Bodyparts:","TriggerInfo::OnMembers":"Trigger Member IDs:","TriggerInfo::AllActivities":"All Activities","TriggerInfo::NoActivities":"No Activities","TriggerInfo::AllBodyparts":"All Bodyparts","TriggerInfo::NoBodyparts":"No Bodyparts","TriggerInfo::AllMemberIDs":"All Members","TriggerInfo::AndMore":" and {0} more","TriggerInfo::MinArousal":"Min Arousal:","TriggerInfo::MaxArousal":"Max Arousal:","TriggerInfo::ApplyFavorite":"Apply Favorite:","TriggerInfo::NewResponses":"New Response","TriggerInfo::Orgasm::Type":"Orgasm Trigger Mode:","TriggerInfo::Orgasm::Type::Orgasmed":"Orgasmed","TriggerInfo::Orgasm::Type::Ruined":"Ruined","TriggerInfo::Orgasm::Type::Resisted":"Resisted","TriggerInfo::Orgasm::Type::Any":"Any","TriggerInfo::RoomEvent::Type":"Event Trigger Mode:","TriggerInfo::RoomEvent::Type::Join":"Join Chat","TriggerInfo::RoomEvent::Type::Leave":"Leave Chat","MemberListPopup::AllowIDs::Title":"Edit Trigger Member List","MemberListPopup::InputID":"Input Member ID","BodypartsPopup::Title":"Edit Bodyparts List","ActivityPopup::Title":"Edit Activity List","ActivityPopup::Pain":"Pain","ActivityPopup::Tickle":"Tickle","ActivityPopup::Masturbate":"Masturbate","ActivityPopup::Feet":"Feet","MessagePopup::EditMessage":"Edit Message","MessagePopup::Type::message":"Message","MessagePopup::Type::action":"Action","MessagePopup::InsertMe":"Insert Me","MessagePopup::InsertOther":"Insert Other"},CN:{setting_button_text:"Responsive",responsive_setting_title:"- BC Responsive 设置 -",setting_button_popup:"BC Responsive 设置",setting_enable:"启用 Responsive",setting_title_low:"低性奋",setting_title_light:"微弱性奋",setting_title_medium:"中等性奋",setting_title_hot:"热烈性奋",setting_title_orgasm:"高潮",setting_title_pain:"痛苦",setting_title_tickle:"瘙痒",setting_input_invalid:"格式错误","General::Confirm":"确定","General::Cancel":"取消","General::Add":"添加","General::Delete":"删除","General::Reset":"重置","General::Clear":"清空","General::AllSet":"全选","CharaInfo::MemberID":"玩家ID","CharaInfo::Name":"玩家名称","Default::NewPersonality":"新人格","Default::NewResponseName":"新响应","Default::ExampleMessage":"示例消息","Default::Pain":"痛苦","Default::Tickle":"瘙痒","Default::Orgasm":"高潮","Default::ItemName::Pain":"痛苦","Default::ItemName::Tickle":"瘙痒","Default::ItemName::Masturbate":"抚慰","Default::ItemName::Orgasm":"高潮","Default::ItemName::HighArousal":"热烈性奋","Default::ItemName::MidArousal":"中等性奋","Default::ItemName::LowArousal":"微弱性奋","Default::Message::PainAction":"{me}感到痛并皱起眉毛。","Default::Message::TickleAction":"{me}由于瘙痒而扭动。","MainMenu::PersonalitySetting":"人格设置","MainMenu::ResponseSetting":"响应设置","MainMenu::MainSwitch":"插件开关","PersonaMenu::EditName":"编辑名称","PersonaMenu::Import":"导入/导出","PersonaMenu::Delete":"删除","PersonaMenu::Confirm?":"确定删除？","PersonaMenu::CreateNew":"创建新人格","PersonaImport::Title":"导入/导出人格","PersonaMenu::DeleteMode":"删除响应模式","PersonaImport::InvalidInput":"导入格式错误","RenamePopup::PersonaName::Title":"输入新名称","PersonaInfo::BlackList":"编辑黑名单","MemberListPopup::PersonaBlackList::Title":"编辑人格黑名单列表","TriggerMode::activity":"互动","TriggerMode::orgasm":"高潮","TriggerMode::spicer":"趣味","TriggerMode::event":"事件","TriggerInfo::AddNew":"添加新响应","TriggerInfo::Name":"名称：","TriggerInfo::OnOff":"开关：","TriggerInfo::Mode":"模式：","TriggerInfo::OnActivity":"触发互动动作：","TriggerInfo::OnBodyparts":"触发身体部位：","TriggerInfo::OnMembers":"触发玩家ID：","TriggerInfo::AllActivities":"所有互动","TriggerInfo::NoActivities":"无互动","TriggerInfo::AllBodyparts":"所有身体部位","TriggerInfo::NoBodyparts":"无身体部位","TriggerInfo::AllMemberIDs":"所有玩家","TriggerInfo::AndMore":"以及{0}个","TriggerInfo::MinArousal":"最低性奋：","TriggerInfo::MaxArousal":"最高性奋：","TriggerInfo::ApplyFavorite":"应用喜好：","TriggerInfo::NewResponses":"新响应消息","TriggerInfo::Orgasm::Type":"高潮触发模式：","TriggerInfo::Orgasm::Type::Orgasmed":"高潮","TriggerInfo::Orgasm::Type::Ruined":"拒绝","TriggerInfo::Orgasm::Type::Resisted":"忍耐","TriggerInfo::Orgasm::Type::Any":"任意","TriggerInfo::RoomEvent::Type":"事件触发模式：","TriggerInfo::RoomEvent::Type::Join":"加入聊天","TriggerInfo::RoomEvent::Type::Leave":"离开聊天","MemberListPopup::AllowIDs::Title":"编辑触发玩家列表","MemberListPopup::InputID":"输入玩家ID","BodypartsPopup::Title":"编辑身体部位列表","ActivityPopup::Title":"编辑互动列表","ActivityPopup::Pain":"痛苦","ActivityPopup::Tickle":"瘙痒","ActivityPopup::Masturbate":"抚慰","ActivityPopup::Feet":"恋足","MessagePopup::EditMessage":"编辑消息","MessagePopup::Type::message":"消息","MessagePopup::Type::action":"动作","MessagePopup::InsertMe":"插入自己名字","MessagePopup::InsertOther":"插入对方名字"}};function I(t,e){let i=(v[TranslationLanguage]||v.EN)[t];return e&&(i=i.replace(/\{(\d+)\}/g,((t,i)=>e[i]))),i}function x(){const t=t=>({type:"message",content:t}),e=t=>({type:"action",content:t}),i=[{name:I("Default::ItemName::Pain"),enabled:!0,trigger:{mode:"activity",allow_activities:M.pain},messages:w.pain.map(t).concat([I("Default::Message::PainAction")].map(e))},{name:I("Default::ItemName::Tickle"),enabled:!0,trigger:{mode:"activity",allow_activities:M.tickle},messages:w.tickle.map(t).concat([I("Default::Message::TickleAction")].map(e))},{name:I("Default::ItemName::Masturbate"),enabled:!0,trigger:{mode:"activity",allow_activities:M.masturbate},messages:w.hot.map(t)},{name:I("Default::ItemName::Orgasm"),enabled:!0,trigger:{mode:"orgasm",type:"Any"},messages:w.orgasm.map(t)},{name:I("Default::ItemName::HighArousal"),enabled:!0,trigger:{mode:"spicer",min_arousal:80},messages:w.hot.map(t)},{name:I("Default::ItemName::MidArousal"),enabled:!0,trigger:{mode:"spicer",min_arousal:50,max_arousal:80},messages:w.medium.map(t)},{name:I("Default::ItemName::LowArousal"),enabled:!0,trigger:{mode:"spicer",max_arousal:50},messages:w.low.map(t)}];return Array.from({length:g},((t,e)=>e)).map(b({name:l,index:c,responses:i},void 0))}function D(){return Object.assign({},{settings:{enabled:!0},active_personality:c,personalities:x()})}function f(t){if(null==(e=t)||"object"!=typeof e||"string"!=typeof e.name||"number"!=typeof e.index||!Array.isArray(e.responses))return;var e;A(t.blackList)||(t.blackList=[]);let i=t.responses.map((t=>{if("object"!=typeof t)return;if("string"!=typeof t.name)return;if("object"!=typeof t.trigger)return;const e=void 0===t.enabled||t.enabled,i=(()=>{if(["activity","orgasm","spicer","event"].includes(t.trigger.mode)){if("activity"===t.trigger.mode){let e=t.trigger.allow_activities,i=t.trigger.allow_bodyparts,n=t.trigger.allow_ids;if(void 0!==e&&!y(e))return;if(void 0!==i&&!y(i))return;if(void 0!==n&&!A(n))return;return{mode:"activity",allow_activities:e,allow_bodyparts:i,allow_ids:n}}if("orgasm"===t.trigger.mode){let e=t.trigger.type;if(void 0===e&&(e="Orgasmed"),!["Orgasmed","Ruined","Resisted","Any"].includes(e))return;return{mode:"orgasm",type:e}}if("spicer"===t.trigger.mode){let e=t.trigger.min_arousal,i=t.trigger.max_arousal,n=t.trigger.apply_favorite,s=t.trigger.allow_ids;if(void 0!==e&&"number"!=typeof e)return;if(void 0!==i&&"number"!=typeof i)return;if(void 0!==n&&"boolean"!=typeof n)return;if(void 0!==s&&!A(s))return;return{mode:"spicer",min_arousal:e,max_arousal:i,apply_favorite:n,allow_ids:s}}if("event"===t.trigger.mode){let e=t.trigger.event;if(!["Join","Leave"].includes(e))return;return{mode:"event",event:e}}}})();if(void 0===i)return;if(!Array.isArray(t.messages))return;let n=t.messages.map((t=>{if("object"==typeof t&&("action"===t.type||"message"===t.type)&&"string"==typeof t.content)return{type:t.type,content:t.content}})).filter((t=>void 0!==t));return{name:t.name,enabled:e,trigger:i,messages:n}})).filter((t=>void 0!==t));return{name:t.name,index:t.index,responses:i,blackList:t.blackList}}function _(t){if(void 0===t)return D();let e=LZString.decompressFromBase64(t),i={};try{i=JSON.parse(e)}catch{}return function(t){return!!(void 0!==t&&"object"==typeof t.settings&&"boolean"==typeof t.settings.enable&&y(t.hot)&&y(t.medium)&&y(t.light)&&y(t.low)&&y(t.orgasm)&&y(t.pain)&&y(t.tickle))}(i)?function(t){let e=D();e.settings.enabled=t.settings.enable;const i=t=>({type:"message",content:t});return e.personalities=Array.from({length:g},((t,e)=>e)).map(b({name:"Default",index:0,responses:[{name:"Pain",trigger:{mode:"activity",allow_activities:M.pain},messages:t.pain.map(i)},{name:"Tickle",trigger:{mode:"activity",allow_activities:M.tickle},messages:t.tickle.map(i)},{name:"Masturbate",trigger:{mode:"activity",allow_activities:M.masturbate},messages:t.hot.map(i)},{name:"Orgasm",trigger:{mode:"orgasm"},messages:t.orgasm.map(i)},{name:"High Arousal",trigger:{mode:"spicer",min_arousal:80},messages:t.hot.map(i)},{name:"Mid Arousal",trigger:{mode:"spicer",max_arousal:80,min_arousal:50},messages:t.medium.map(i)},{name:"Low Arousal",trigger:{mode:"spicer",max_arousal:50},messages:t.low.map(i)}],blackList:[]},void 0)),e}(i):function(t){if("object"!=typeof(e=t)||"object"!=typeof e.settings||null!==e.active_personality&&"number"!=typeof e.active_personality||!Array.isArray(e.personalities))return D();var e;let i={};if("boolean"==typeof t.settings.enabled?Object.assign(i,{settings:{enabled:t.settings.enabled}}):Object.assign(i,{settings:{enabled:!0}}),"number"==typeof t.active_personality?Object.assign(i,{active_personality:t.active_personality}):Object.assign(i,{active_personality:null}),Array.isArray(t.personalities)){let e=t.personalities.map(f).filter((t=>void 0!==t)),n=[];for(let t=0;t<g;t++)n.push(e.find((e=>e.index===t)));Object.assign(i,{personalities:n})}else Object.assign(i,{personalities:[]});return i}(i)}class N{constructor(){this.modData={}}static init(t){function e(t){t&&N.instance.ServerTakeData(t),console.log(`${a} v${s} ready.`)}void 0===this._instance&&(this._instance=new N),t.hookFunction("LoginResponse",0,((t,i)=>{i(t),e(t[0])})),Player&&Player.MemberNumber&&e(Player)}static get instance(){return N._instance}static save(){this.instance.ServerStoreData()}static get active_personality(){const t=this.instance.data;if(null!==t.active_personality)return t.personalities[t.active_personality]}static set active_personality(t){this.instance.data.active_personality=t?.index??null}EncodeDataStr(){return LZString.compressToBase64(JSON.stringify(this.modData))}DecodeDataStr(t){void 0!==t?Object.assign(this.modData,_(t)):Object.assign(this.modData,D())}ServerStoreData(){Player&&Player.ExtensionSettings&&(Player.ExtensionSettings[d]=this.EncodeDataStr(),ServerPlayerExtensionSettingsSync(d))}ServerTakeData(t){const e=t.ExtensionSettings[d]||t.OnlineSettings[d];this.DecodeDataStr(e)}get data(){return this.modData}set data(t){this.modData=t}}function R(t){let e=ElementValue("InputChat");!function(t){return t.trim().length>0&&!t.startsWith("/")&&!t.startsWith("(")&&!t.startsWith("*")&&!t.startsWith(".")}(e)||-1!=ChatRoomTargetMemberNumber?function(t){if(!t)return;let e=ChatRoomTargetMemberNumber;ChatRoomTargetMemberNumber=-1;let i=ElementValue("InputChat");ElementValue("InputChat",t),ChatRoomSendChat(),ElementValue("InputChat",i),ChatRoomTargetMemberNumber=e}(t):function(t,e){e&&(ElementValue("InputChat",t+"... "+e),ChatRoomSendChat())}(e,t)}function S(t,e,i){return t.replace(/\{(me|other)\}/g,((t,n)=>"me"===n?void 0===e?"???":CharacterNickname(e):"other"===n?void 0===i?"???":CharacterNickname(i):"???"))}const Z="BCUtilities";function T(t,e){return new Promise((i=>{window[Z]||(window[Z]={});const n=window[Z],s=n[t];if(s&&"function"==typeof s){const t=s();if(t)return void i(t)}const a=e();n[t]=()=>a,i(a)}))}class W{constructor(t){this.events={Orgasm:[],Resist:[],Ruined:[]},t.hookFunction("ActivityOrgasmStop",9,((t,e)=>{const i=t[0],n=t[1];i.IsPlayer()&&(ActivityOrgasmRuined?this.events.Ruined.forEach((t=>t(i))):n>=60&&this.events.Resist.forEach((t=>t(i)))),e(t)})),t.hookFunction("ActivityOrgasmStart",9,((t,e)=>{const i=t[0];i.IsPlayer()&&!ActivityOrgasmRuined&&this.events.Orgasm.forEach((t=>t(i))),e(t)}))}onOrgasm(t){this.events.Orgasm.push(t)}onResist(t){this.events.Resist.push(t)}onRuined(t){this.events.Ruined.push(t)}on(t,e){this.events[t]?.push(e)}static init(t){return T("OrgasmMonitor",(()=>new W(t)))}}class k{static get instance(){return k._instance}static init(t){k._instance||(k._instance=new k(t))}constructor(t){this.CUSTOM_ACTION_TAG=t;const e=e=>({Tag:`MISSING TEXT IN "Interface.csv": ${t}`,Text:e});this.SendAction=i=>{i&&Player&&Player.MemberNumber&&ServerSend("ChatRoomChat",{Content:t,Type:"Action",Dictionary:[e(i)]})},this.SendChat=t=>{t&&Player&&Player.MemberNumber&&ServerSend("ChatRoomChat",{Content:t,Type:"Chat"})},this.LocalAction=i=>{i&&Player&&Player.MemberNumber&&ChatRoomMessage({Sender:Player.MemberNumber,Content:t,Type:"Action",Dictionary:[e(i)]})},this.LocalInfo=t=>{t&&Player&&Player.MemberNumber&&ChatRoomMessage({Sender:Player.MemberNumber,Content:t,Type:"LocalMessage"})},this.SendWhisper=(t,e)=>{e&&Player&&Player.MemberNumber&&ServerSend("ChatRoomChat",{Content:e,Type:"Whisper",Target:t})},this.SendBeep=(t,e)=>{e&&Player&&Player.MemberNumber&&ServerSend("AccountBeep",{MemberNumber:t,Message:e,BeepType:"",IsSecret:!1})}}}function C(t){return t instanceof Function?t():t}k._instance=void 0;class G{constructor(t){this.playerJoin=[],this.playerLeave=[],this.receiveChatOrWhisper=[],this.receiveActivity=[],t.hookFunction("ChatRoomSync",1,((t,e)=>{if(Player&&(!ChatRoomData||!Player.LastChatRoom||ChatRoomData.Name!==Player.LastChatRoom.Name)){const t=Player;this.playerJoin.forEach((e=>e(t)))}return e(t)})),t.hookFunction("ServerSend",1,((t,e)=>{if("ChatRoomLeave"===t[0]&&Player){const t=Player;this.playerLeave.forEach((e=>e(t)))}return e(t)})),t.callOriginal("ChatRoomRegisterMessageHandler",[this.ChatRoomMsgHandler(t)])}onAfterPlayerJoin(t){this.playerJoin.push(t)}onBeforePlayerLeave(t){this.playerLeave.push(t)}onReceiveChatWhisperEmote(t){this.receiveChatOrWhisper.push(t)}onReceiveActivity(t){this.receiveActivity.push(t)}ChatRoomMsgHandler(t){return{Description:"BC-utilities Message Hook",Priority:1024,Callback:(e,i,n,s)=>{if(Player&&Player.MemberNumber){const s=Player;if("Chat"===e.Type||"Whisper"===e.Type||"Emote"===e.Type){const a=e.Type;(t.callOriginal("ChatRoomCharacterViewIsActive",[])||t.callOriginal("ChatRoomMapViewCharacterIsHearable",[i]))&&this.receiveChatOrWhisper.forEach((t=>t(s,i,n,a)))}if("Activity"===e.Type&&e.Dictionary){const t=function(t){let e,i,n,s,a;for(let r of t)void 0!==r.TargetCharacter?i={MemberNumber:r.TargetCharacter}:void 0!==r.SourceCharacter?e={MemberNumber:r.SourceCharacter}:void 0!==r.ActivityName?s=r.ActivityName:"FocusAssetGroup"===r.Tag?n=r.FocusGroupName:"ActivityAsset"===r.Tag&&(a={AssetName:r.AssetName,CraftName:r.CraftName,GroupName:r.GroupName});if(void 0!==e&&void 0!==i&&void 0!==n&&void 0!==s)return{SourceCharacter:e,TargetCharacter:i,ActivityGroup:n,ActivityName:s,Asset:a,BCDictionary:t}}(e.Dictionary);t&&this.receiveActivity.forEach((e=>e(s,i,t)))}}return!1}}}static init(t){return T("ChatRoomHandler",(()=>new G(t)))}}function O(t,e,i){const n=N.active_personality;void 0!==n&&(function(t){return"activity"===t.triggerType}(t)?function(t,e,i,n){if(t.blackList.includes(e.from))return;let s=(()=>{let i=t.responses.filter((t=>{if(!t.enabled)return!1;const i=t.trigger;return"activity"===i.mode&&(!(void 0!==i.allow_activities&&!i.allow_activities.includes(e.activity))&&(!(void 0!==i.allow_bodyparts&&!i.allow_bodyparts.includes(e.bodypart))&&!(void 0!==i.allow_ids&&0!==i.allow_ids.length&&!i.allow_ids.includes(e.from))))})).map((t=>t.messages)).flat();if(0!==i.length)return i[Math.floor(Math.random()*i.length)]})();if(void 0===s)return;if("message"===s.type){let a=(()=>{let i=t.responses.filter((t=>{if(!t.enabled)return!1;const i=t.trigger;return"spicer"===i.mode&&(!(void 0!==i.min_arousal&&e.arousal<i.min_arousal)&&(!(void 0!==i.max_arousal&&e.arousal>i.max_arousal)&&!(void 0!==i.allow_ids&&0!==i.allow_ids.length&&!i.allow_ids.includes(e.from))))})).map((t=>t.messages)).flat().filter((t=>"message"===t.type));if(0!==i.length)return i[Math.floor(Math.random()*i.length)]})();R(void 0===a?S(s.content,i,n):S(a.content,i,n)+" "+S(s.content,i,n))}else"action"===s.type&&k.instance.SendAction(S(s.content,i,n))}(n,t,e,i):function(t){return"orgasm"===t.triggerType}(t)?function(t,e,i){let n=(()=>{let i=t.responses.filter((t=>{if(!t.enabled)return!1;const i=t.trigger;return!!p(i)&&("Any"===i.type||i.type===e.type)})).reduce(((t,e)=>t.concat(e.messages)),[]);if(0!==i.length)return i[Math.floor(Math.random()*i.length)]})();if(void 0===n)return;"message"===n.type?R(S(n.content,i,void 0)):"action"===n.type&&k.instance.SendAction(S(n.content,i,void 0))}(n,t,e):function(t){return"event"===t.triggerType}(t)&&function(t,e,i){let n=(()=>{let i=t.responses.filter((t=>{if(!t.enabled)return!1;const i=t.trigger;return"event"===i.mode&&i.event===e.type})).reduce(((t,e)=>t.concat(e.messages)),[]);if(0!==i.length)return i[Math.floor(Math.random()*i.length)]})();if(void 0===n)return;const s=S(n.content,i,void 0);"message"===n.type?k.instance.SendChat(s):"action"===n.type&&k.instance.SendAction(s)}(n,t,e))}function L(t){const e=t=>e=>{"ChatRoom"===CurrentScreen&&O({triggerType:"orgasm",type:t},e)};t.onOrgasm(e("Orgasmed")),t.onRuined(e("Ruined")),t.onResist(e("Resisted"))}function E(t){t.onAfterPlayerJoin((t=>O({triggerType:"event",type:"Join"},t))),t.onBeforePlayerLeave((t=>O({triggerType:"event",type:"Leave"},t))),t.onReceiveActivity(((t,e,i)=>{i.TargetCharacter.MemberNumber===t.MemberNumber&&O({triggerType:"activity",activity:i.ActivityName,bodypart:i.ActivityGroup,from:i.SourceCharacter.MemberNumber,arousal:t.ArousalSettings?.Progress||0},t,e)}))}const Y={responsive_main:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAI\n    mGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0w\n    TXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRh\n    LyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEz\n    LTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3Jn\n    LzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0i\n    IiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRw\n    Oi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMu\n    YWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNv\n    bS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9z\n    VHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFw\n    LzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdGVEYXRlPSIyMDI0LTAyLTIyVDA2OjQ4\n    OjI5KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyNC0wMi0yNVQxMjowMzo1NiswODowMCIgeG1w\n    Ok1ldGFkYXRhRGF0ZT0iMjAyNC0wMi0yNVQxMjowMzo1NiswODowMCIgZGM6Zm9ybWF0PSJpbWFn\n    ZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdC\n    IElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNmE4MjA4ZS04OTUyLWFm\n    NDgtYjc3My03OTM2MmIxNzZmNGMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rv\n    c2hvcDpkNTFlMjY5ZC02MDE4LWUwNDMtYWIzOS0xYmYyMjAzMmI3NDAiIHhtcE1NOk9yaWdpbmFs\n    RG9jdW1lbnRJRD0ieG1wLmRpZDo5ZTljZDZhZC1kZDg5LWRjNDktYWNlMC02NGJmMmE0YmU3ZWQi\n    PiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIg\n    c3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5ZTljZDZhZC1kZDg5LWRjNDktYWNlMC02NGJmMmE0\n    YmU3ZWQiIHN0RXZ0OndoZW49IjIwMjQtMDItMjJUMDc6Mjk6MjUrMDg6MDAiIHN0RXZ0OnNvZnR3\n    YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdl\n    ZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJz\n    PSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxy\n    ZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQg\n    ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRm\n    OmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZTQ0ZTJi\n    NDEtOGM2Ni01ODQ5LThkMzEtMjQ5ZTI0ODU0MjAyIiBzdEV2dDp3aGVuPSIyMDI0LTAyLTIyVDA3\n    OjI5OjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAx\n    OSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNh\n    dmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA2YTgyMDhlLTg5NTItYWY0OC1iNzczLTc5\n    MzYyYjE3NmY0YyIgc3RFdnQ6d2hlbj0iMjAyNC0wMi0yNVQxMjowMzo1NiswODowMCIgc3RFdnQ6\n    c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpj\n    aGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZy\n    b20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5ZTljZDZhZC1kZDg5LWRjNDktYWNlMC02NGJm\n    MmE0YmU3ZWQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OWU5Y2Q2YWQtZGQ4OS1kYzQ5LWFj\n    ZTAtNjRiZjJhNGJlN2VkIiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6OWU5Y2Q2\n    YWQtZGQ4OS1kYzQ5LWFjZTAtNjRiZjJhNGJlN2VkIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3Jk\n    ZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+qK7L1QAABKBJREFUeNrt23mI\n    lWUUx/GPmkuaaWmBEmZUmC1iWIittlghFWkr2mYEKZUKBYXRSoSUFBVZWYRQURTRQkXQGIYlWSSE\n    EZVRaaS20IaalZP9MUe4DTPO3e+d8Rz4MX/c4T7P+33f93nO7zzn2rFjh1T1lRASbIJNJdgEm2BT\n    CTbBJthUgk2wCTaVYBNsgk0l2ASbYFMJNsEm2FSCTbAJNlUU2DrEUByPGZiPG+LvNZiCUbpx1BPs\n    EFyMJ/EVdhShb/EgjipjvN44BXejBWvxW2gTVmIRJnVHsP0wHa/iryJhdqZlmFzEmGNwLzaU8N2f\n    xJvTu9nBDsft2FghzI60HJdgnxirLw7DdXivwu/+FKc2I9jhWIjNNQDakbbU6HufwbBmADukzkDr\n    oU04q1Fge+Nq/NiDgLbXQvSpJ9hjsLoHA22/cQ6rNdgBsetu302g7tSXOLRWYI/G57sZ0EL9hInV\n    Bju3CrloT9DvxaRkxYDtg6cS6P+0tSu4XYHtjWcTZKc59MRywd5Wo0n9jW/wfjiplfgOrd1wzR1T\n    Ktih2FaFwf/Fmii+zMaxUUPoLOOYgKvwEN6NyZcz7oawuE/jzqiaTY96w2Sch3kxzuqYZznjfFFg\n    r4sCO74CmGvxKC6o1BpG7Itx4YQux6woMc6Pm3UlpuE4HBw3qNTYD1fgnTKu9zX0KhZsf3xf4gAf\n    4EzdPw7CHfi6hGufU8oaOynSi1Jf/cXVLME1MHrhpFgu1ndx3X9gRCnp1pHhOkp9PR7vxGOfHE/C\n    Le1fnyaM4TgklrPFRRSZHi7VIOyFJWXAfb3dwj4LfxZ8vhGnNQjakNigO4sROAEjSzjx2IK9y7G0\n    J0YxuBS462LDadnF0vFZJSW6EmIgLsJL4SJbOnmrxmFqbIIflXi915dbhNkjSoUbVD8v3Bx57a2R\n    lfStEOQwnBH5+LKC9LEVKwLswoL/74+ZkRLCE2Vcw4pKy4Z7Rv1gvdom4dvwSxiKNfg44L8RVvt+\n    3IV78ACeC+OxqYPq1BKcX7A89cFNkeNOizx3Z449v8z5/oMB1ThB6IfL8GGDXVArfoiDwbdis5mH\n    0yMP3lWMjAdlZyZwc4VzGVvtM68J8VT82iC4b+7C1RVzGnJOvMqVzmN8rU5p++NcPN8uC6iHWjCo\n    RFd3Yyw11ZrD2Ho0bAwOy/l2BX68VK3qwkoPjrX2xRrc+Fb0q3eL0YG4r05LxTptbUtTIpWbGUdK\n    y6O6VqtxV9ajE6azGIRr65BRNEILGgm2MKOYXeX1rZHajgOaAWyh6ZijNi1J9dTSanfCVNNyLtDW\n    EdjdoG7G6GYFW2hFFzUgVatEM6rVCVOPGBW2tZnPwlrbF7m7A9idcThermMeXKx+xtmVNmw0C+Cl\n    Nc5Di939n8T+5R5/N3Nlf676N+VtjZORMV1NsLuCLYzRUcVaVqMneVuUKGeFFS4qegLY9o5uatRo\n    Vymv12yrtn6EhWGFB5YzkZ4GtqMq2wRcqq1p47EovLwSegGPRO58IY4Is1Jx5A/o8peJCTaVYBNs\n    gk0l2ASbYFMJNsEm2FSCTbAJNpVgE2yCTSXYBJtgU13qP3HsvH57wvB4AAAAAElFTkSuQmCC",trashbin:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF\n    0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0w\n    TXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRh\n    LyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEz\n    LTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3Jn\n    LzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0i\n    IiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJo\n    dHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFk\n    b2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1\n    cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2Jl\n    LmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0Mg\n    MjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDI0LTAxLTEzVDAzOjQxOjM0KzA4OjAw\n    IiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTEzVDAzOjQxOjM0KzA4OjAwIiB4bXA6TW9kaWZ5\n    RGF0ZT0iMjAyNC0wMS0xM1QwMzo0MTozNCswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlp\n    ZDowNjc1MzNhZC05NTU5LTc1NDYtYjIxZi0yYWYzMGIyZDE0OWMiIHhtcE1NOkRvY3VtZW50SUQ9\n    ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0OTU4MGU1Ny1hN2U4LTRmNGMtOTkzOS04MDNkYzQxYmFm\n    ODYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMDZkNzU0OS04NmRlLTdlNGUt\n    OTIwZS1mYzYxZTIxMzcyOTUiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JN\n    b2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0i\n    Y3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMDZkNzU0OS04NmRlLTdlNGUtOTIw\n    ZS1mYzYxZTIxMzcyOTUiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMDM6NDE6MzQrMDg6MDAiIHN0\n    RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8\n    cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDY3\n    NTMzYWQtOTU1OS03NTQ2LWIyMWYtMmFmMzBiMmQxNDljIiBzdEV2dDp3aGVuPSIyMDI0LTAxLTEz\n    VDAzOjQxOjM0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0Mg\n    MjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhp\n    c3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNr\n    ZXQgZW5kPSJyIj8+a3cxDQAAAUNJREFUaN7t2ksKwjAUBdCCLiMZuxXrwE3WQa2DzFyOguigIGLd\n    QHyFFIo0MbUfX9obuKO+Qg4p+ZREWutoTokABhhggCcJ7tC2lBtFf8nN1P7UOIFzD2yVnBN4Qzm3\n    6PxYKfsUDwG+MMRWuQLcAzimnBhiyz6tOU1aozSAAQbYG8xt0gIYYIABBhhggAGeH/hIESbKo17V\n    6o8hgkXtnSUlddSmpqZqInSwC/2JLZsMEawaIJ/o1FKjQp20Dg2gBSWhZJZnu9BnadsoLj0/+SCX\n    paaR7jqy7NdhG7oLljU4c4CTqYEzj086mQp4VpOWa+lxLVkaG4+Jby3F3A4PMuTjoWx5PJShHg/x\n    xwNggAEG+B/gFyPscwywYgTejwFeUR4MsPf6bm7oOx7SnISKP0ALM7Ji0DseuC8NMMAAAwwwwL3n\n    DYsasqXKgDReAAAAAElFTkSuQmCC",arrow_left:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF\n    0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0w\n    TXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRh\n    LyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEz\n    LTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3Jn\n    LzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0i\n    IiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJo\n    dHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFk\n    b2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1\n    cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2Jl\n    LmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0Mg\n    MjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDI0LTAxLTEzVDAzOjQxOjQ0KzA4OjAw\n    IiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTEzVDAzOjQxOjQ0KzA4OjAwIiB4bXA6TW9kaWZ5\n    RGF0ZT0iMjAyNC0wMS0xM1QwMzo0MTo0NCswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlp\n    ZDpmYjc0ODUzZS1hZWNkLTFhNGYtYTM1MC0yY2U4OTQ1MTIxZTgiIHhtcE1NOkRvY3VtZW50SUQ9\n    ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpiNDg0MTFiNC01Njg0LWFkNGMtYWFkNi0yOWFkOTI3MzVk\n    MTAiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmZTRlN2RhZC0xZmU4LTcxNDEt\n    OWNiZS1jYzljODMyYWZkN2UiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JN\n    b2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0i\n    Y3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmZTRlN2RhZC0xZmU4LTcxNDEtOWNi\n    ZS1jYzljODMyYWZkN2UiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMDM6NDE6NDQrMDg6MDAiIHN0\n    RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8\n    cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmI3\n    NDg1M2UtYWVjZC0xYTRmLWEzNTAtMmNlODk0NTEyMWU4IiBzdEV2dDp3aGVuPSIyMDI0LTAxLTEz\n    VDAzOjQxOjQ0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0Mg\n    MjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhp\n    c3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNr\n    ZXQgZW5kPSJyIj8+x+jIaAAAAQBJREFUaIHt2ssNwyAQhGHaSIpwY0nacKp2CByQUOQHj3XMzO5I\n    /51P3BDOe+80dfkBDGxgAxvYwGeD/zFN4Jsm8CM0awFH7Cf01gBOWK8BnGPpwc8fLDV4DUsL3sJS\n    gvewdOAjLBW4BEsDLsVSgGuw8OBaLDS4BQsLbsVCgnuwcOBeLBRYAgsDlsJCgCWxw4OlsUODp9Ai\n    jB0aHPfSdMNnoYcHS6MhwJJoGLAUGgosgYYD96IhwT1oWHArGhrcgoYH16IpwDVoGnApmgpcgqYD\n    H6EpwXtoWvAWmhq8hqYHx+VvYyrAOVoNOKHV/MRLu2sDu+HASF1+AAMb2MAGrukL1jowR9F7CZsA\n    AAAASUVORK5CYII=",arrow_right:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF\n    0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0w\n    TXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRh\n    LyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEz\n    LTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3Jn\n    LzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0i\n    IiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJo\n    dHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFk\n    b2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1\n    cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2Jl\n    LmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0Mg\n    MjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDI0LTAxLTEzVDAzOjQxOjU4KzA4OjAw\n    IiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTEzVDAzOjQxOjU4KzA4OjAwIiB4bXA6TW9kaWZ5\n    RGF0ZT0iMjAyNC0wMS0xM1QwMzo0MTo1OCswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlp\n    ZDpmYWQyYWE2Mi01ZDIwLTJhNGItOGJkOC1iZGY1ZmVlNTk0YzUiIHhtcE1NOkRvY3VtZW50SUQ9\n    ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphYmU4YmNkMS01ZTM5LTg2NDAtYTEyYS0zODY0NzhiZDQ2\n    MDEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowYzRjZjMyNy1kOWE5LWRhNDEt\n    YTZkYS1kMTVkNGIwYjNiOWYiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JN\n    b2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0i\n    Y3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzRjZjMyNy1kOWE5LWRhNDEtYTZk\n    YS1kMTVkNGIwYjNiOWYiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMDM6NDE6NTgrMDg6MDAiIHN0\n    RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8\n    cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmFk\n    MmFhNjItNWQyMC0yYTRiLThiZDgtYmRmNWZlZTU5NGM1IiBzdEV2dDp3aGVuPSIyMDI0LTAxLTEz\n    VDAzOjQxOjU4KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0Mg\n    MjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhp\n    c3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNr\n    ZXQgZW5kPSJyIj8+tO4RkQAAAPhJREFUaN7t2usNAyEMA2AP0Tk6WfO7Xb7lBujrDsIJx0ZigE+I\n    V2K01qA0YbDBBhtssAL4jLEi+KIGvgO4KYEfAF6z0KuC2yz0yuAp6NXB6WgGcCqaBZyGZgKnoNnA\n    w2hG8BCaFdyNZgZ3odnBh9EVwIfQVcC70ZXAu9DVwH/RFcE/0VXBX9GVwR/R1cFvaAVwA/AEcFVa\n    4VDaw6F0SofSPRxKL61QekuH0m8plP7DoVTxCKWaVihVLUOlatmFZe48dGFZe0vdWMbu4RCWrT88\n    jGVKAKRgWTIeaViGFE8qdvWcVjp25STeFKyzlk7TOi9tsMEGG8w/N0bbLb4Bxk2OAAAAAElFTkSu\n    QmCC",arrow_up:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAG\n    ymlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0w\n    TXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRh\n    LyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEz\n    LTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3Jn\n    LzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0i\n    IiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJo\n    dHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFk\n    b2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1\n    cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2Jl\n    LmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0Mg\n    MjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDI0LTAxLTEzVDAzOjQxOjQ0KzA4OjAw\n    IiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTE0VDA3OjU1OjU3KzA4OjAwIiB4bXA6TW9kaWZ5\n    RGF0ZT0iMjAyNC0wMS0xNFQwNzo1NTo1NyswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlp\n    ZDoxZGQxNDhmOC1mOGQ4LTAyNDgtODFkMi0yZGQwYzA1ODE3NDEiIHhtcE1NOkRvY3VtZW50SUQ9\n    ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkZjJlZWY4OS1iMmRhLWQwNGUtYTI2My05NjIzNzU4ZWUz\n    OTIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmZTRlN2RhZC0xZmU4LTcxNDEt\n    OWNiZS1jYzljODMyYWZkN2UiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JN\n    b2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06\n    SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDpp\n    bnN0YW5jZUlEPSJ4bXAuaWlkOmZlNGU3ZGFkLTFmZTgtNzE0MS05Y2JlLWNjOWM4MzJhZmQ3ZSIg\n    c3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QwMzo0MTo0NCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2Vu\n    dD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0\n    aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmYjc0ODUzZS1hZWNkLTFhNGYt\n    YTM1MC0yY2U4OTQ1MTIxZTgiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMDM6NDE6NDQrMDg6MDAi\n    IHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIg\n    c3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omlu\n    c3RhbmNlSUQ9InhtcC5paWQ6MWRkMTQ4ZjgtZjhkOC0wMjQ4LTgxZDItMmRkMGMwNTgxNzQxIiBz\n    dEV2dDp3aGVuPSIyMDI0LTAxLTE0VDA3OjU1OjU3KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50\n    PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4g\n    PC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+\n    IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+W0zBuAAAAOdJREFUaN7t2MsNAjEMANFt\n    A4qgMUIbUDWERNrDSiyQj+0YMpFGvll+1ywxxmWmFsCAAQMGDBgwYMCAAQMGDBgw4PnAiu+ktdgj\n    +JK6p8IM4Ix95LvWGf4ZvMVGLbQX8B5WBe0B/Akrjh4NLsGKokeCa7Bi6FHgFqwIegS4B9uNtgZL\n    YLvQlmBJbDPaCqyBbUJbgDWx1WhtsAW2Cq0JtsQWo7XAI7BFaA3wSOxXtDTYA3aLPmuCgyPsW7QU\n    2CN2Fy0B9ox9QfeCj6lr6vYD5TsP/EsDBgwYMGDAgAEDBgwYMGDAgOcCPwGP8tKyx4wS/AAAAABJ\n    RU5ErkJggg==",arrow_down:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAG\n    ymlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0w\n    TXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRh\n    LyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEz\n    LTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3Jn\n    LzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0i\n    IiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJo\n    dHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFk\n    b2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1\n    cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2Jl\n    LmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0Mg\n    MjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDI0LTAxLTEzVDAzOjQxOjQ0KzA4OjAw\n    IiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTE0VDA3OjU2OjE5KzA4OjAwIiB4bXA6TW9kaWZ5\n    RGF0ZT0iMjAyNC0wMS0xNFQwNzo1NjoxOSswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlp\n    ZDo4OTVhOWMwOC02NTRjLWVmNDAtYjI4MC05OTI4MTlmM2I1NmIiIHhtcE1NOkRvY3VtZW50SUQ9\n    ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0MWQ5ZTczYi0xYTlhLTZmNDEtYTQ2NC1lMzkyZjkyYzU0\n    NjciIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmZTRlN2RhZC0xZmU4LTcxNDEt\n    OWNiZS1jYzljODMyYWZkN2UiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JN\n    b2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06\n    SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDpp\n    bnN0YW5jZUlEPSJ4bXAuaWlkOmZlNGU3ZGFkLTFmZTgtNzE0MS05Y2JlLWNjOWM4MzJhZmQ3ZSIg\n    c3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QwMzo0MTo0NCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2Vu\n    dD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0\n    aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmYjc0ODUzZS1hZWNkLTFhNGYt\n    YTM1MC0yY2U4OTQ1MTIxZTgiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMDM6NDE6NDQrMDg6MDAi\n    IHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIg\n    c3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omlu\n    c3RhbmNlSUQ9InhtcC5paWQ6ODk1YTljMDgtNjU0Yy1lZjQwLWIyODAtOTkyODE5ZjNiNTZiIiBz\n    dEV2dDp3aGVuPSIyMDI0LTAxLTE0VDA3OjU2OjE5KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50\n    PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4g\n    PC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+\n    IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+yi8jZwAAAO1JREFUaN7t2MsNwkAMANFp\n    A4qgMaCNUDUJF0AiUiAf765R5jBXy89HMwwDewrBggULFixYsGDBggULFixYsOD9gYED0AG3P6gD\n    jlvBAGegB4bE9cAFIAKcHf3GRoKzoj+w0eBs6B64jheMBvO8aJ8RWwrcGj2JLQluhf6KLQ2ujf6J\n    rQGuhZ6FrQUujZ6NrQkuhV6ErQ2ORi/GtgBHoVdhW4G3oldjW4LXojdhW4OXojdjM4DnokOwWcC/\n    0GHYTOApdCg2G3iMDsdmBL/Q9xLYrGCAU6nB/qUFCxYsWLBgwYIFCxYsWLBgwfsCPwDu+tKyJ48L\n    UQAAAABJRU5ErkJggg==",gesture:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAH\n    jmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0w\n    TXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRh\n    LyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEz\n    LTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3Jn\n    LzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0i\n    IiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJo\n    dHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFk\n    b2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1\n    cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2Jl\n    LmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0Mg\n    MjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDI0LTAxLTEzVDAzOjQxOjQ0KzA4OjAw\n    IiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTE0VDA4OjA1OjUyKzA4OjAwIiB4bXA6TW9kaWZ5\n    RGF0ZT0iMjAyNC0wMS0xNFQwODowNTo1MiswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlp\n    ZDozZDczNWRjNC02Y2U0LTBlNGItODcxMC0zNGY1MjI2YmJiYzQiIHhtcE1NOkRvY3VtZW50SUQ9\n    ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozNzM5YzExNy1iYjIzLTg4NDAtYTZmNC03NTdjZDY0YTY5\n    OGUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmZTRlN2RhZC0xZmU4LTcxNDEt\n    OWNiZS1jYzljODMyYWZkN2UiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JN\n    b2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06\n    SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDpp\n    bnN0YW5jZUlEPSJ4bXAuaWlkOmZlNGU3ZGFkLTFmZTgtNzE0MS05Y2JlLWNjOWM4MzJhZmQ3ZSIg\n    c3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QwMzo0MTo0NCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2Vu\n    dD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0\n    aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmYjc0ODUzZS1hZWNkLTFhNGYt\n    YTM1MC0yY2U4OTQ1MTIxZTgiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMDM6NDE6NDQrMDg6MDAi\n    IHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIg\n    c3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omlu\n    c3RhbmNlSUQ9InhtcC5paWQ6M2Q3MzVkYzQtNmNlNC0wZTRiLTg3MTAtMzRmNTIyNmJiYmM0IiBz\n    dEV2dDp3aGVuPSIyMDI0LTAxLTE0VDA4OjA1OjUyKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50\n    PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4g\n    PC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6VGV4dExheWVycz4gPHJkZjpC\n    YWc+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0i8J+RiyIgcGhvdG9zaG9wOkxheWVyVGV4\n    dD0i8J+RiyIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IvCfl6kiIHBob3Rvc2hvcDpM\n    YXllclRleHQ9IvCfl6kiLz4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8L3Jk\n    ZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/\n    PucY7ugAAAVXSURBVGje7VsLiFVFGL7mlq62aoquriRqmRWaK1qS67brq9RE80GYtkaUBiKKGj4Q\n    8V2+EUQQ19ztuWuJUiLZropZkqmLaPZAEkvxUWKSpusj9/oPfAMfw5x7z7175z7W+8MH53xnzsx8\n    58z8889/7g3U1NQE7icE0oLTgtOC66ZgBzZDcElwWvBWwLElWnCZIGhgWV0V/BwE/iPIE7wkuAWu\n    laCe4Im6IliJmQ9x84h/H9xxPAh1fEEwPlUFLxacF1QLLkPQu3R9jDG8z9DxQCrXXlAgGCoYjBHS\n    WdAgmQSvsMxXhQ+ozMvgbmDIK5sK7iDOO3rUE8SU2AVH+FgiBWehQ9cEPQQPC0rBfUvlngV30rhf\n    cf/huIWgEsLKBVtw/oflAewWPBQvwSMFhwRXqTM7jGEZxHKkrYMhTttN8E3CtNlUMESwSXBbcEeQ\n    GQ/BozyG3F4q0xac6lgGuEZUNofK/gIu12innaAP+OaWfui3q7x+ieA1F4KVB76IDk5FR2bh/CKV\n    yyRx2cSfBpdH3DZwg4h7xPJAz0DYGKNPvXC90oXgBqj8f4O/axF3DlwX4irBjSRuGbg3jAdWjLl8\n    ENOAxf8N56Wttxo1LgQ/gHkbNIbZWXDdidsNrpC4j8FNJE576kUh2s3Ag3tbsJ+E/yzo6XoOH0Nj\n    PYnbC24AcSXgiohbBW4Bca+CK4/AaQ6A09TCx7kUvAuNDCaumBuGLQe30PI2PyOuANyBKJbEBSTa\n    meBSy5tbAm4+cdPAbSRuKLjviXsS3Nko44AijBJnghejg3OJmwJuM3HDwH1FXA9wvxPXmN5S42SI\n    pZcab248OldK3AhwO4nLBXfUEpDcggM0l6suRtl1gio4qhmuBWciNNRPvx45DB3aaesG7hhxj4Kr\n    pnt5fW5JZfeAG0JR2XXLWrzHleAMuHw9/LrSte7gTxDXmsJGLa5hmODjKctyVYBzvZP6CO2ppe1P\n    cFNcCNZrXZVlXuXg2lUjzLsDvg3xuuNdLcFHocUvjBXMxPEhj4jqh1gLfo8C//oe4aUO+LMs4jj4\n    qADXn7jPwU0j7nVw/1Ik18JoV28dD8dScC4Nw860ZVNPvRPVrYd7e+KOghtG3HaLOL2ETTdCQ56r\n    gyx65uDaulgK3opK11I9J8HNsQQfvAnYQcNS21jM9Txj/zzC2Nplk9ilHnp0P/rGUnAfREZ6KH9C\n    c7l5mODjccFk7FsjMeUTvkB9RzzKsMd3tiz1o/mUZVzTSbrZtYgT1M5rJb3Zasu81TbRsvbHXLAe\n    QhMsdWsnszpKsWrTforEfih4OkT570LM7ZgI1k7kXIjdShAeN1JrQmmh/UZ0ZbNmKHvXY9WIieBP\n    0cgsj7ptYaNf+5LE+rFxKL/NZWg5HKKbedSd7ZGQ82OLEDw09Fl+J9oanei89A2f2cbaGA/nRokW\n    /BM608Gh4BcjSQ64FvwNOpPvUPCoSNI/rgVvQGdcfvddiDaWJIPgIlpDXdlvlp1VwgS3peyFC9O5\n    ruvh1t94fkyrQqcmORC8PZLhHC/BhfQWYmnPo96aSBJ78fpcWuE3EvJpKiC5Eo1DjJdgFXhcq+Vm\n    gu1H1FWRqDStH+tGO58yIwXr1x6kOPsUzpNWsLIXKCf1q5GG9WOckM9JZCI+EmuDtK6Z2/Jrfxk5\n    8KQXrGy9Jbfl1w7g3mdSSbD+Rc87Udyrk4ivpJLg6ej0zCjuXYN7J6eS4DfDpFtD2aRA+F8DJJ3g\n    0eES5iEsH/cWp5JgvWn/Gundpj6RRcnBfakkOD/g/fNBv6hOJcHqC8UJdDoaseqrZElcBKf/85AW\n    nBacFpyMuAchedX/48/drAAAAABJRU5ErkJggg==",chat:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAH\n    jmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0w\n    TXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRh\n    LyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEz\n    LTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3Jn\n    LzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0i\n    IiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJo\n    dHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFk\n    b2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1\n    cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2Jl\n    LmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0Mg\n    MjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDI0LTAxLTEzVDAzOjQxOjQ0KzA4OjAw\n    IiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTE0VDA4OjA2OjAzKzA4OjAwIiB4bXA6TW9kaWZ5\n    RGF0ZT0iMjAyNC0wMS0xNFQwODowNjowMyswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlp\n    ZDo2MTRiOGRmMy01NmNmLTU1NGMtYTNhMC1hMDFkOTc5NWQ4MmIiIHhtcE1NOkRvY3VtZW50SUQ9\n    ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozMTc4MmM4YS01ZmZjLWViNGMtOGYyNi02NDhmMDM1OTQ5\n    NjEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmZTRlN2RhZC0xZmU4LTcxNDEt\n    OWNiZS1jYzljODMyYWZkN2UiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JN\n    b2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06\n    SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDpp\n    bnN0YW5jZUlEPSJ4bXAuaWlkOmZlNGU3ZGFkLTFmZTgtNzE0MS05Y2JlLWNjOWM4MzJhZmQ3ZSIg\n    c3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QwMzo0MTo0NCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2Vu\n    dD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0\n    aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmYjc0ODUzZS1hZWNkLTFhNGYt\n    YTM1MC0yY2U4OTQ1MTIxZTgiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMDM6NDE6NDQrMDg6MDAi\n    IHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIg\n    c3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omlu\n    c3RhbmNlSUQ9InhtcC5paWQ6NjE0YjhkZjMtNTZjZi01NTRjLWEzYTAtYTAxZDk3OTVkODJiIiBz\n    dEV2dDp3aGVuPSIyMDI0LTAxLTE0VDA4OjA2OjAzKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50\n    PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4g\n    PC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6VGV4dExheWVycz4gPHJkZjpC\n    YWc+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0i8J+RiyIgcGhvdG9zaG9wOkxheWVyVGV4\n    dD0i8J+RiyIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IvCfl6kiIHBob3Rvc2hvcDpM\n    YXllclRleHQ9IvCfl6kiLz4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8L3Jk\n    ZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/\n    PsPwUScAAAkUSURBVGje7VoPTFVVGL/8U5CB+BcRBYmpGSMqMdKmWxpbjjmNorAo0tlahrmpS2pj\n    Ji2y2aqt6ZoY1ij803CymXPYTJ2G5szRiBlZjqdhQKIIwkNA+/3u7seOt/PgvScQrXe3s/fuvd85\n    5/ud7zvfv3ONW7duGf+nZvgA+wD7APsA+wD7APsA/3cB37x502hrazPbjRs3jK6urp537e3tw8rK\n    yh6aN2/e8+Hh4bkBAQGFw4YN2+3v71/q5+e3F/dfBwUF7Rg+fPiGlJSU5aWlpXPQJ6K7u7tn7M7O\n    TnPM69evc7yhAZhA5d7pdI7Nz8/PAoidhmFcRrvtYbuOBTkwe/bsdRcuXJgh47a2tg4NwNIcDkcy\n    pPcVGG7tBcwfaD+jVaB9j1aNdhGt01UfaMLhPXv2pA8ZlW5qarofQHdqmP0rJCSkZMKECSsLCgrm\n    5uTkTAZ9wNmzZw3QG3hnVFRUcAy/kpKSqKNHj0KrU5aFhYV9hr51GuAn9u/fv/jfBBw6ZsyYT2yM\n    3YQqfwnG0rDvRpCuoaHBaG5uNvDM7Hf48GEDKmtg/xoHDx40n507d87cp9yvvMdvEPbz46NGjdqG\n    Ma+pc6DfAWyhewcVMKSx2FJPYeRiRkbGSjAaLTQ0PNzbRUVFRmVlpbF582YTFID0AIZkTdry8nLj\n    6tWrJnDpJ+Ogz8jCwsIszPGjChzakDcogFNTU9erE8fHx3+A58EKg6bFFutdXFzsNuCamhoTMDWC\n    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\n    6/P8SgAAAABJRU5ErkJggg==",github:"data:img/jpg;base64,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\n    AElFTkSuQmCC"};let B=new Map;function P(t){return`BCR_${t}`}class j{Run(){}Click(){}MouseWheel(t){}Exit(){F.setScreen(null)}Unload(){}}function z(t){return F.instance.Current===t}class F{static get instance(){return this._instance}get Current(){return this._currentScreen}_setScreen(t){this._currentScreen&&this._currentScreen.Unload(),this._currentScreen=t,this._currentScreen||("function"==typeof PreferenceSubscreenExtensionsClear?PreferenceSubscreenExtensionsClear():PreferenceSubscreen="")}static setScreen(t){this._instance?._setScreen(t)}static init(t,e){F._instance=new F(t,e)}constructor(t,e){this._currentScreen=null,this._mainScreenProvider=null,this._mainScreenProvider=e,"function"==typeof PreferenceRegisterExtensionSetting?this.registerGUI():this.hookGUI(t)}registerGUI(){PreferenceRegisterExtensionSetting({Identifier:a,Image:Y.responsive_main,ButtonText:()=>I("setting_button_text"),load:()=>{this._mainScreenProvider&&this._setScreen(this._mainScreenProvider())},run:()=>{if(this._currentScreen){const t=MainCanvas.textAlign;this._currentScreen.Run(),MainCanvas.textAlign=t}},click:()=>this._currentScreen?.Click(),unload:()=>this._currentScreen?.Unload(),exit:()=>this._currentScreen?.Exit()})}hookGUI(t){"function"!=typeof window.PreferenceMouseWheel&&(window.PreferenceMouseWheel=t=>{}),t.hookFunction("PreferenceMouseWheel",10,((t,e)=>{if(!this._currentScreen)return e(t);this._currentScreen.MouseWheel(t[0])})),PreferenceSubscreenList.includes(o)||PreferenceSubscreenList.push(o),t.hookFunction("TextGet",2,((t,e)=>t[0]==`Homepage${o}`?I("setting_button_text"):e(t))),window[`PreferenceSubscreen${o}Load`]=()=>this._setScreen(this._mainScreenProvider?.()??null),window[`PreferenceSubscreen${o}Run`]=()=>{if(this._currentScreen){const t=MainCanvas.textAlign;this._currentScreen.Run(),MainCanvas.textAlign=t}},window[`PreferenceSubscreen${o}Click`]=()=>this._currentScreen?.Click(),window[`PreferenceSubscreen${o}Exit`]=()=>this._currentScreen?.Exit(),t.hookFunction("DrawButton",2,((t,e)=>(t[6]==`Icons/${o}.png`&&(t[6]=Y.responsive_main),e(t))))}}F._instance=null;class Q{Click(t){}MouseWheel(t){}Unload(){}}class J extends j{constructor(t,e=[]){super(),this.prev=t,this.items=e}AddItem(t){this.items.push(t)}Run(){this.items.forEach((t=>t.Draw(z(this))))}Click(){this.items.forEach((t=>t.Click({x:MouseX,y:MouseY})))}MouseWheel(t){this.items.forEach((e=>e.MouseWheel(t)))}Exit(){F.setScreen(this.prev)}Unload(){this.items.forEach((t=>t.Unload()))}}function U(t,e){return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height}function V(t,e,i){i||(i={});const n=i.color||"Black",s=i.align||"left";MainCanvas.fillStyle=n,MainCanvas.textAlign=s,i.emphasis&&MainCanvas.fillText(e,t.x+1,t.y+1),MainCanvas.fillText(e,t.x,t.y)}function X(t,e,i){const n=i?.color||h.Text.Base,s=i?.padding||h.Text.padding,a=t.width-2*s;MainCanvas.textAlign="center";const r=t.x+t.width/2,o=t.y+t.height/2,l=MainCanvas.measureText(e),c=(t,n)=>{i?.emphasis&&MainCanvas.fillText(e,t+1,n+1),MainCanvas.fillText(e,t,n)};if(MainCanvas.fillStyle=n,a<l.width){const t=a/l.width;MainCanvas.scale(t,t),c(r/t,o/t),MainCanvas.scale(1/t,1/t)}else c(r,o)}function H(t,e){MainCanvas.fillStyle=e,MainCanvas.fillRect(t.x,t.y,t.width,t.height)}function K(t,e,i="black",n=2){H(t,e),function(t,e="black",i=2){MainCanvas.lineWidth=i,MainCanvas.strokeStyle=e,MainCanvas.strokeRect(t.x,t.y,t.width,t.height)}(t,i,n)}function q(t,e){e||(e={});const i=t.height/2,n=t.x+i,s=t.x+t.width-i;e.stroke=e.stroke||h.Button.text,"none"!==e.stroke&&(MainCanvas.strokeStyle=e.stroke),MainCanvas.lineWidth=e.strokeWidth||h.strokeWidth,e.fill&&(MainCanvas.fillStyle=e.fill),MainCanvas.beginPath(),MainCanvas.moveTo(n,t.y),MainCanvas.lineTo(s,t.y),MainCanvas.arc(s,t.y+i,i,.5*-Math.PI,.5*Math.PI),MainCanvas.lineTo(n,t.y+t.height),MainCanvas.arc(n,t.y+i,i,.5*Math.PI,.5*-Math.PI),MainCanvas.closePath(),e.fill&&MainCanvas.fill(),"none"!==e.stroke&&MainCanvas.stroke()}function $(t,e){e||(e={});const i=t.width/2,n=t.y+i,s=t.y+t.height-i;e.stroke=e.stroke||h.Button.text,"none"!==e.stroke&&(MainCanvas.strokeStyle=e.stroke),MainCanvas.lineWidth=e.strokeWidth||h.strokeWidth,e.fill&&(MainCanvas.fillStyle=e.fill),MainCanvas.beginPath(),MainCanvas.moveTo(t.x,s),MainCanvas.lineTo(t.x,n),MainCanvas.arc(t.x+i,n,i,-Math.PI,0),MainCanvas.lineTo(t.x+t.width,s),MainCanvas.arc(t.x+i,s,i,0,Math.PI),MainCanvas.closePath(),e.fill&&MainCanvas.fill(),"none"!==e.stroke&&MainCanvas.stroke()}function tt(t,e,i=!0,n){n||(n={});const s=n.hover||h.Button.hover,a=n.idle||h.Button.idle,r=n.stroke||"Black",o=n.strokeWidth||h.strokeWidth;i&&U({x:MouseX,y:MouseY},t)?q(t,{fill:s,stroke:r,strokeWidth:o}):q(t,{fill:a,stroke:r,strokeWidth:o}),X(t,e)}function et(t,e,i=!0,n){n||(n={});const s=n.hover||h.Button.hover,a=n.idle||h.Button.idle,r=n.stroke||"Black",o=n.strokeWidth||h.strokeWidth;i&&U({x:MouseX,y:MouseY},t)?q(t,{fill:s,stroke:r,strokeWidth:o}):q(t,{fill:a,stroke:r,strokeWidth:o}),nt({x:t.x+.12*t.width,y:t.y+.12*t.height,width:.76*t.width,height:.76*t.height},e)}function it(t,e,i){i||(i={}),MainCanvas.strokeStyle=i.stroke||"Black",MainCanvas.lineWidth=i.strokeWidth||2,i.fill&&(MainCanvas.fillStyle=i.fill);const n=t.x+e,s=t.x+t.width-e,a=t.y+e,r=t.y+t.height-e;MainCanvas.beginPath(),MainCanvas.moveTo(n,t.y),MainCanvas.lineTo(s,t.y),MainCanvas.arc(s,a,e,.5*-Math.PI,0),MainCanvas.lineTo(t.x+t.width,r),MainCanvas.arc(s,r,e,0,.5*Math.PI),MainCanvas.lineTo(n,t.y+t.height),MainCanvas.arc(n,r,e,.5*Math.PI,Math.PI),MainCanvas.lineTo(t.x,a),MainCanvas.arc(n,a,e,Math.PI,1.5*Math.PI),MainCanvas.closePath(),i.fill&&MainCanvas.fill(),MainCanvas.stroke()}function nt(t,e){MainCanvas.drawImage(function(t){let e=B.get(t);return e||(e=new Image,e.src=Y[t],B.set(t,e)),e}(e),t.x,t.y,t.width,t.height)}class st extends Q{constructor(t,e,i,n){super(),this.rect=t,this.text=e,this.callback=i,this.enabled=n}Draw(t){!this.enabled||this.enabled()?(t&&U({x:MouseX,y:MouseY},this.rect)?q(this.rect,{fill:h.Button.hover}):q(this.rect,{fill:h.Button.idle}),X(this.rect,this.text())):(q(this.rect,{stroke:h.Button.disabled}),X(this.rect,this.text(),{color:h.Button.disabled}))}Click(t){U(t,this.rect)&&this.callback()}}class at extends Q{constructor(t,e,i,n){super(),this.rect=t,this.text=e,this.callback=i,this.enabled=n}Draw(t){!this.enabled||this.enabled()?(t&&U({x:MouseX,y:MouseY},this.rect)?q(this.rect,{fill:h.Button.hover}):q(this.rect,{fill:h.Button.idle}),X(this.rect,this.text)):(q(this.rect,{stroke:h.Button.disabled}),X(this.rect,this.text,{color:h.Button.disabled}))}Click(t){U(t,this.rect)&&this.callback()}}class rt extends Q{constructor(t){super(),this._rect={x:1815,y:75,width:90,height:90},this.callback=t}Draw(t){!function(t,e,i=!0,n){n||(n={});const s=n.idle||h.Button.idle,a=n.hover||h.Button.hover,r=n.stroke||h.Button.text,o=n.strokeWidth||h.strokeWidth;K(t,i&&U({x:MouseX,y:MouseY},t)?a:s,r,o),DrawImage(e,t.x+2,t.y+2)}(this._rect,"Icons/Exit.png",t)}Click(t){U(t,this._rect)&&this.callback()}}class ot extends Q{constructor(t,e,i,n){super(),this.rect=t,this.radius=e,this.icon=i,this.callback=n;const s=.15*t.height;this.icon_rect={x:t.x+t.width/2-t.height/2+s,y:t.y+s,width:t.height-2*s,height:t.height-2*s}}Draw(t){t&&U({x:MouseX,y:MouseY},this.rect)?it(this.rect,this.radius,{fill:h.Button.hover}):it(this.rect,this.radius,{fill:h.Button.idle}),nt(this.icon_rect,this.icon)}Click(t){U(t,this.rect)&&this.callback()}}class ht extends Q{constructor(){super()}Draw(){const t=I("responsive_setting_title");V({x:201,y:126},`${t} v${s}`,{color:"Gray"}),V({x:200,y:125},`${t} v${s}`)}}class lt extends Q{constructor(t,e,i){super(),this.where=t,this.text=e,this.setting=i}Draw(){MainCanvas.textAlign=this.setting?.align||"left",MainCanvas.fillStyle=this.setting?.color||"Black";const t=C(this.text);this.setting?.emphasis&&MainCanvas.fillText(t,this.where.x+1,this.where.y+1),MainCanvas.fillText(t,this.where.x,this.where.y)}}class ct extends Q{constructor(t,e,i){super(),this.rect=t,this.text=e,this.setting=i}Draw(){X(this.rect,C(this.text),this.setting)}}class gt extends Q{constructor(t){super(),this.pattern=t}Draw(){const{where:t,text:e,align:i,color:n}=this.pattern();MainCanvas.textAlign=i,MainCanvas.fillStyle=n,MainCanvas.fillText(e,t.x,t.y)}}class dt extends Q{constructor(t,e,i){super(),this.rect=t,this.radius=e,this.fill=i}Draw(){it(this.rect,this.radius,{fill:this.fill})}}function ut(t,e){const i=MainCanvas.canvas.clientWidth/2e3,n=Math.min(MainCanvas.canvas.clientWidth/50,MainCanvas.canvas.clientHeight/25),s=Math.ceil(2*i),a=2*i,r=t.height*i-2*(s+a),o=t.width*i-2*(s+a),h=MainCanvas.canvas.offsetTop+t.y*i,l=MainCanvas.canvas.offsetLeft+t.x*i;Object.assign(e.style,{fontSize:n+"px",fontFamily:CommonGetFontName(),position:"fixed",left:l+"px",top:h+"px",width:o+"px",height:r+"px",display:"inline",padding:a+"px",borderWidth:s+"px"})}class pt extends Q{get text(){return this._text?.value??""}CreateTextArea(){let t=document.createElement("textarea");return t.id=this._id,t.name=this._id,t.value=this._bind.text,t.setAttribute("screen-generated",CurrentScreen),t.className="HideOnPopup",t.onchange=()=>{this._bind.text=this.text},document.body.appendChild(t),t}constructor(t,e,i,n){super(),this._rect=t,this._id=P(e),this._bind=i,this._text=this.CreateTextArea()}Clear(){this._text&&(this._text.value="",this._bind.text="")}InsertAtCursor(t){if(!this._text)return;const e=this._text.selectionStart,i=this._text.selectionEnd,n=this._text.value;this._text.value=n.substring(0,e)+t+n.substring(i),this._text.selectionStart=this._text.selectionEnd=e+t.length,this._text.focus()}Draw(t){t||(this._text&&this._text.remove(),this._text=void 0),this._text||(this._text=this.CreateTextArea()),ut(this._rect,this._text)}Unload(){this._text&&this._text.remove(),this._text=void 0}}class mt extends Q{get text(){return this._text?.value??""}CreateInput(){let t=document.createElement("input");return t.id=this._id,t.name=this._id,t.value="",t.setAttribute("screen-generated",CurrentScreen),t.type="text",t.className="HideOnPopup",this._hint&&(t.placeholder=this._hint),document.body.appendChild(t),t}constructor(t,e,i,n){super(),this._rect=t,this._id=P(e),this._hint=n,this._text=this.CreateInput(),i&&(this._text.value=i)}Clear(){this._text&&(this._text.value="")}InsertAtCursor(t){if(!this._text)return;const e=this._text.selectionStart,i=this._text.selectionEnd;if(null===e||null===i)return;const n=this._text.value;this._text.value=n.substring(0,e)+t+n.substring(i),this._text.selectionStart=this._text.selectionEnd=e+t.length,this._text.focus()}Draw(t){if(!t)return this._text&&this._text.remove(),void(this._text=void 0);this._text||(this._text=this.CreateInput()),ut(this._rect,this._text)}Unload(){this._text&&this._text.remove(),this._text=void 0}}class At extends J{constructor(t,e=[]){super(t,e),this.prev=t}Run(){this.prev&&this.prev.Run(),MainCanvas.fillStyle="rgba(0, 0, 0, 0.5)",MainCanvas.fillRect(0,0,2e3,1e3),this.items.forEach((t=>t.Draw(z(this))))}}class yt extends At{constructor(t=null,e){const i=1e3,n=35,s=200,a=Math.max(800,450);super(t),this.prev=t,this.index=e,this._lastInputInvalid=!1,this._bind={text:(()=>{const t=N.instance.data.personalities[e];return t?function(t){return LZString.compressToBase64(JSON.stringify(Object.assign({},{name:t.name,responses:t.responses})))}(t):""})()},this.items=[new dt({x:i-a/2-n,y:137,width:a+70,height:726},h.Dialog.roundRadius,"White"),new gt((()=>this._lastInputInvalid?{where:{x:i,y:190},text:I("PersonaImport::InvalidInput"),align:"center",color:"Red"}:{where:{x:i,y:190},text:I("PersonaImport::Title"),align:"center",color:"Black"})),new pt({x:600,y:243,width:800,height:500},"InputPersonaData",this._bind),new at({x:775,y:778,width:s,height:50},I("General::Confirm"),(()=>{const t=function(t){let e,i=LZString.decompressFromBase64(t);try{e=JSON.parse(i)}catch(t){return}return Object.assign(e,{index:-1}),f(e)}(this._bind.text);t?(t.index=e,N.instance.data.personalities[e]=t,this.Exit()):this._lastInputInvalid=!0})),new at({x:1025,y:778,width:s,height:50},I("General::Cancel"),(()=>this.Exit()))]}Run(){this.prev&&this.prev.Run(),MainCanvas.fillStyle="rgba(0, 0, 0, 0.5)",MainCanvas.fillRect(0,0,2e3,1e3),this.items.forEach((t=>t.Draw(z(this))))}}class bt extends At{constructor(t,e,i){super(t),this.prev=t,this.target=e,this.confirm=i;const n=Math.max(600,2*h.Dialog.control_button_width+h.Dialog.padding),s=136+h.Dialog.control_button_height+2*h.Dialog.padding,a={x:h.Screen.center_x,y:h.Screen.center_y-s/2+18},r={x:h.Screen.center_x-300,y:a.y+18+h.Dialog.padding,width:600,height:100},o={x:h.Screen.center_x-h.Dialog.padding/2-h.Dialog.control_button_width,y:r.y+100+h.Dialog.padding,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},l={x:h.Screen.center_x+h.Dialog.padding/2,y:o.y,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},c={x:h.Screen.center_x-n/2-h.Dialog.padding,y:h.Screen.center_y-s/2-h.Dialog.padding,width:n+2*h.Dialog.padding,height:s+2*h.Dialog.padding};this._input=new mt(r,"PersonaRenameInput",e.name),this.items=[new dt(c,h.Dialog.roundRadius,"White"),new lt(a,I("RenamePopup::PersonaName::Title"),{align:"center"}),this._input,new at(o,I("General::Confirm"),(()=>{i(this._input.text.substring(0,20)),this.Exit()})),new at(l,I("General::Cancel"),(()=>{this.Exit()}))]}}class wt extends Q{constructor(t,e,i){super(),this.parent=t,this.index=e,this.rect=i,this._focusState={state:"idle",value:0,lastUpdate:0},this.deleteState=0;const n=Math.max(.8*i.width,120),s=Math.max(.1*i.height,60),a=Math.min(.1*i.height,10);i.x,i.width,i.y,i.height;const r=3*s+2*a,o=i.y+(i.height-r-a)/2;this._rename_rect={x:i.x+i.width/2-n/2,y:i.y+i.height-r-a-10,width:n,height:s},this._import_rect={x:this._rename_rect.x,y:this._rename_rect.y+(s+a),width:n,height:s},this._delete_rect={x:this._import_rect.x,y:this._import_rect.y+(s+a),width:n,height:s},this._name_rect={x:i.x+a,y:o-30,width:i.width-2*a,height:60},this._new_rect={x:i.x+a,y:i.y+i.height/2-30,width:i.width-2*a,height:60}}Draw(t){MainCanvas.textAlign="center";const e=N.instance.data.personalities[this.index],i=Date.now();0===this._focusState.lastUpdate&&(this._focusState.lastUpdate=i);const n=i-this._focusState.lastUpdate;this._focusState.lastUpdate=i;const s=10*(1-this._focusState.value),a={x:this.rect.x+s,y:this.rect.y+s,width:this.rect.width-2*s,height:this.rect.height-2*s},r={x:MouseX,y:MouseY};t&&U(r,a)?(this._focusState.value=Math.min(1,this._focusState.value+n/100),e&&(N.active_personality!==e&&U(r,this._delete_rect)||U(r,this._rename_rect)||U(r,this._import_rect))||(this._focusState.state="focused")):(this._focusState.state="idle",this._focusState.value=Math.max(0,this._focusState.value-n/100)),e?(N.active_personality===e&&it(a,h.Dialog.roundRadius,{fill:h.SegmentButton.active,stroke:"none"}),"focused"===this._focusState.state?it(a,h.Dialog.roundRadius,{fill:h.SegmentButton.hover}):it(a,h.Dialog.roundRadius),X(this._name_rect,e.name),tt(this._rename_rect,I("PersonaMenu::EditName"),t),tt(this._import_rect,I("PersonaMenu::Import"),t),N.active_personality!==e&&(0===this.deleteState?tt(this._delete_rect,I("PersonaMenu::Delete"),t):tt(this._delete_rect,I("PersonaMenu::Confirm?"),t,{idle:"Pink",hover:"Red"}))):("focused"===this._focusState.state?it(a,h.Dialog.roundRadius,{fill:h.SegmentButton.hover,stroke:"DarkGrey"}):it(a,h.Dialog.roundRadius,{stroke:"DarkGrey"}),X(this._new_rect,I("PersonaMenu::CreateNew")))}Click(t){const e=N.instance.data.personalities[this.index],i=10*(1-this._focusState.value),n={x:this.rect.x+i,y:this.rect.y+i,width:this.rect.width-2*i,height:this.rect.height-2*i};let s=!0;e?U(t,this._rename_rect)?F.setScreen(new bt(this.parent,e,(t=>{e.name=t,N.save()}))):U(t,this._import_rect)?F.setScreen(new yt(this.parent,this.index)):U(t,this._delete_rect)?(0===this.deleteState?this.deleteState=1:(N.instance.data.personalities[this.index]=void 0,this.deleteState=0),s=!1):U(t,n)&&N.active_personality!==e&&(N.active_personality=e,N.save()):U(t,n)&&(N.instance.data.personalities[this.index]={name:I("Default::NewPersonality"),index:this.index,responses:[],blackList:[]},N.save()),s&&(this.deleteState=0)}}class Mt extends J{constructor(t=null){N.instance.data.personalities;const e=1e3-(305*g-5)/2;super(t),this.prev=t,this.items=Array.from({length:g},((t,e)=>e)).map((t=>new wt(this,t,{x:e+305*t,y:220,width:300,height:600}))).concat([new rt((()=>this.Exit())),new ht])}}class vt extends Q{constructor(t,e){super(),this.init=t,this.rect=e,this.step=0,this.scrollbar_bar_height=0,this.scrollbar_bar_offset=0,this.scrollbar_bar_max_offset=0,this.scrollbar_rect={x:e.x+e.width-h.Scrollbar.width,y:e.y,width:h.Scrollbar.width,height:e.height},this.scrollbar_up={x:this.scrollbar_rect.x,y:this.scrollbar_rect.y,width:h.Scrollbar.width,height:h.Scrollbar.button_height},this.scrollbar_down={x:this.scrollbar_up.x,y:this.scrollbar_rect.y+this.scrollbar_rect.height-h.Scrollbar.button_height,width:this.scrollbar_up.width,height:this.scrollbar_up.height},this.scroll_area={x:this.scrollbar_up.x,y:this.scrollbar_rect.y+h.Scrollbar.button_height+h.Scrollbar.spacing,width:this.scrollbar_up.width,height:e.height-2*h.Scrollbar.button_height-2*h.Scrollbar.spacing},this.update(t.content_rows,t.container_rows)}update(t,e){const i=Math.max(t,e),n=this.scroll_area.height-2*h.Scrollbar.spacing;this.scrollbar_bar_height=n*e/i,this.scrollbar_bar_max_offset=n-this.scrollbar_bar_height,this.scrollbar_bar_offset=Math.min(this.scrollbar_bar_offset,this.scrollbar_bar_max_offset),this.step=i===e?0:this.scrollbar_bar_max_offset/(i-e)}get offset(){return 0===this.step?0:Math.floor(this.scrollbar_bar_offset/this.step)}Draw(t){const e={x:MouseX,y:MouseY};t&&U(e,this.scrollbar_up)?$(this.scrollbar_up,{fill:h.Button.hover}):$(this.scrollbar_up),nt({x:this.scrollbar_up.x,y:this.scrollbar_up.y+this.scrollbar_up.height/2-this.scrollbar_up.width/2,width:this.scrollbar_up.width,height:this.scrollbar_up.width},"arrow_up"),t&&U(e,this.scrollbar_down)?$(this.scrollbar_down,{fill:h.Button.hover}):$(this.scrollbar_down),nt({x:this.scrollbar_down.x,y:this.scrollbar_down.y+this.scrollbar_down.height/2-this.scrollbar_down.width/2,width:this.scrollbar_down.width,height:this.scrollbar_down.width},"arrow_down"),$(this.scroll_area);const i=this.scroll_area.y+h.Scrollbar.spacing+this.scrollbar_bar_offset,n={x:this.scroll_area.x+h.Scrollbar.spacing,y:i,width:this.scroll_area.width-2*h.Scrollbar.spacing,height:this.scrollbar_bar_height};t&&U(e,this.scroll_area)?$(n,{fill:h.Button.hover}):$(n)}scroll_up(){this.scrollbar_bar_offset=Math.max(0,this.scrollbar_bar_offset-this.step)}scroll_down(){this.scrollbar_bar_offset=Math.min(this.scrollbar_bar_max_offset,this.scrollbar_bar_offset+this.step)}Click(t){if(U(t,this.scrollbar_up))this.scroll_up();else if(U(t,this.scrollbar_down))this.scroll_down();else if(U(t,this.scroll_area)){const e=t.y-this.scroll_area.y-this.scrollbar_bar_height/2;this.scrollbar_bar_offset=Math.max(0,Math.min(this.scrollbar_bar_max_offset,e))}}RawMouseWheel(t){t.deltaY<0?this.scroll_up():t.deltaY>0&&this.scroll_down()}MouseWheel(t){U({x:MouseX,y:MouseY},this.scroll_area)&&this.RawMouseWheel(t)}}const It=50,xt=10;class Dt extends Q{CalculateChips(t,e){let i=0;return this.display_row_count=(e.height-xt)/60,this.row_count=0,t.map(((t,n)=>{const s=Math.max(It,MainCanvas.measureText(t.text).width+2*h.Text.padding)+20;return i+xt+s>e.width?(i=s+xt,this.row_count++):i+=s+xt,{...t,rect:{x:e.x+i-s,y:e.y+xt+60*this.row_count,width:s,height:It}}}))}constructor(t,e,i,n){super(),this.row_count=0,this.display_row_count=0,this.source=t,this._callback=n,this._chips_park={...i},this._chips=this.CalculateChips(e,this._chips_park);const s=this._chips[this._chips.length-1];if(s.rect.y+s.rect.height+xt>i.y+i.height){this._chips_park.width-=h.Scrollbar.width+h.Scrollbar.spacing,this._chips=this.CalculateChips(e,this._chips_park);const t=this._chips[this._chips.length-1],n=this._chips[0],s=Math.round((t.rect.y+t.rect.height-n.rect.y+xt)/60)+1,a=Math.floor((i.height+xt)/It),r={x:i.x+i.width-h.Scrollbar.width,y:i.y,width:h.Scrollbar.width,height:i.height};this.scrollbar=new vt({content_rows:s,container_rows:a},r)}}Draw(t){const e={x:MouseX,y:MouseY};it(this._chips_park,35);const i=this.scrollbar?.offset??0;this._chips.forEach((n=>{const s={x:n.rect.x,y:n.rect.y-60*i,width:n.rect.width,height:n.rect.height};if(s.y<this._chips_park.y)return;if(s.y+s.height>this._chips_park.y+this._chips_park.height)return;const a=this.source.has(n.value),r=t&&U(e,s);q(s,{fill:a?h.SegmentButton.active:"White"}),r&&q(s,{fill:h.SegmentButton.hover,stroke:"none"}),X({x:s.x+xt,y:s.y,width:s.width-20,height:s.height},n.text)})),this.scrollbar?.Draw(t)}Click(t){const e=this.scrollbar?.offset??0;U(t,this._chips_park)&&this._chips.forEach((i=>{const n={x:i.rect.x,y:i.rect.y-60*e,width:i.rect.width,height:i.rect.height};n.y<this._chips_park.y||n.y+n.height>this._chips_park.y+this._chips_park.height||U(t,n)&&this._callback(i.value)})),this.scrollbar?.Click(t)}MouseWheel(t){this.scrollbar?.MouseWheel(t),this.scrollbar&&U({x:MouseX,y:MouseY},this._chips_park)&&this.scrollbar.RawMouseWheel(t)}}const ft=200,_t=50,Nt=720;class Rt extends At{constructor(t,e){super(t),this.prev=t,this.source=e;const i={x:h.Screen.center_x,y:h.Screen.center_y-360+18},n=Math.max(ft+h.Dialog.padding+1e3,2*h.Dialog.control_button_width+h.Dialog.padding),s={x:h.Screen.center_x-n/2,y:h.Screen.center_y-360+36+h.Dialog.padding},a={x:s.x+ft+h.Dialog.padding,y:s.y,width:1e3,height:684-2*h.Dialog.padding-h.Dialog.control_button_height},r=ActivityFemale3DCG.map((t=>{const e=ActivityDictionaryText(`Activity${t.Name}`);if(!(e.length>25))return{text:e,value:t.Name}})).filter((t=>void 0!==t));this.editing=new Set(this.source.asActivity((t=>t.allow_activities))||r.map((t=>t.value)));const o={x:h.Screen.center_x-h.Dialog.padding/2-h.Dialog.control_button_width,y:h.Screen.center_y+360-h.Dialog.control_button_height,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},l={x:h.Screen.center_x+h.Dialog.padding/2,y:o.y,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},c={x:h.Screen.center_x-n/2-h.Dialog.padding,y:h.Screen.center_y-360-h.Dialog.padding,width:n+2*h.Dialog.padding,height:Nt+2*h.Dialog.padding};let g=s.y;const d=t=>t+_t+10,u={x:s.x,y:g,width:ft,height:_t};g=d(g);const p={x:s.x,y:g,width:ft,height:_t};g=d(g),g=d(g);const m={x:s.x,y:g,width:ft,height:_t};g=d(g);const A={x:s.x,y:g,width:ft,height:_t};g=d(g);const y={x:s.x,y:g,width:ft,height:_t};g=d(g);const b={x:s.x,y:g,width:ft,height:_t},w=t=>{t.every((t=>this.editing.has(t)))?t.forEach((t=>this.editing.delete(t))):t.forEach((t=>this.editing.add(t)))};this.items=[new dt(c,h.Dialog.roundRadius,"White"),new lt(i,I("ActivityPopup::Title"),{align:"center",emphasis:!0}),new Dt(this.editing,r,a,(t=>{this.editing.has(t)?this.editing.delete(t):this.editing.add(t)})),new at(p,I("General::Clear"),(()=>this.editing.clear())),new at(u,I("General::AllSet"),(()=>r.forEach((t=>this.editing.add(t.value))))),new at(m,I("ActivityPopup::Pain"),(()=>w(M.pain))),new at(A,I("ActivityPopup::Tickle"),(()=>w(M.tickle))),new at(y,I("ActivityPopup::Masturbate"),(()=>w(M.masturbate))),new at(b,I("ActivityPopup::Feet"),(()=>w(["MassageFeet","Step","Kick","MasturbateFoot"]))),new at(o,I("General::Confirm"),(()=>{this.source.asActivity((t=>{this.editing.size===r.length?t.allow_activities=void 0:t.allow_activities=[...this.editing]})),N.save(),this.Exit()})),new at(l,I("General::Cancel"),(()=>this.Exit()))]}}class St extends Q{constructor(t,e,i){super(),this.source=t,this.rect=e,this.callback=i;const n=St.AbsoluteMetrics();if(n.width/n.height<e.width/e.height){const t=e.x+e.width/2;this._scale=e.height/n.height,this._translate={x:t-(n.x+n.width/2)*this._scale,y:e.y-n.y*this._scale}}else{const t=e.y+e.height/2;this._scale=e.width/n.width,this._translate={x:e.x-n.x*this._scale,y:t-(n.y+n.height/2)*this._scale}}this._bodypart_rects=AssetGroup.map((t=>{if(t.Zone)return{group:t.Name,rects:t.Zone.map((t=>this.RectTuple2Rect(t)))}})).filter((t=>void 0!==t))}static AbsoluteMetrics(){const t=AssetGroup.map((t=>t.Zone)).flat().reduce(((t,e)=>e?{left:Math.min(t.left,e[0]),right:Math.max(t.right,e[0]+e[2]),top:Math.min(t.top,e[1]),bottom:Math.max(t.bottom,e[1]+e[3])}:t),{left:2e3,top:1e3,bottom:0,right:0}),e={width:t.right-t.left,height:t.bottom-t.top};return{x:t.left,y:t.top,width:e.width,height:e.height}}static Metrics(){const t=St.AbsoluteMetrics();return{width:t.width,height:t.height}}RectTuple2Rect(t){return{x:t[0]*this._scale+this._translate.x,y:t[1]*this._scale+this._translate.y,width:t[2]*this._scale,height:t[3]*this._scale}}Draw(t){this._bodypart_rects.forEach(((e,i)=>{if(0===e.rects.length)return;const n=t&&e.rects.some((t=>U({x:MouseX,y:MouseY},t))),s=this.source.has(e.group);e.rects.forEach((t=>{K(t,s?h.Chips.active:"White","Black"),n&&H(t,h.Chips.hover)}))}))}Click(t){this._bodypart_rects.forEach(((e,i)=>{0!==e.rects.length&&e.rects.some((e=>U(t,e)))&&this.callback(e.group)}))}}const Zt=720;class Tt extends At{constructor(t,e){super(t),this.prev=t,this.source=e;const i=St.Metrics(),n=684-2*h.Dialog.padding-h.Dialog.control_button_height,s=i.width*n/i.height,a=s+h.Dialog.padding+600,r={x:h.Screen.center_x-a/2-h.Dialog.padding,y:h.Screen.center_y-360-h.Dialog.padding,width:a+2*h.Dialog.padding,height:Zt+2*h.Dialog.padding},o={x:h.Screen.center_x,y:h.Screen.center_y-360+18},l={x:h.Screen.center_x-a/2,y:h.Screen.center_y-360+36+h.Dialog.padding,width:s,height:n},c={x:h.Screen.center_x-a/2+s+h.Dialog.padding,y:l.y,width:600,height:l.height-h.Dialog.control_button_height-10},g=AssetGroup.map(((t,e)=>{if(t.Zone)return{text:t.Description,value:t.Name}})).filter((t=>void 0!==t));this.editing=new Set(e.asActivity((t=>t.allow_bodyparts))||g.map((t=>t.value)));const d={x:c.x+c.width/2-h.Dialog.padding/2-h.Dialog.control_button_width,y:c.y+c.height+10,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},u={x:c.x+c.width/2+h.Dialog.padding/2,y:d.y,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},p={x:h.Screen.center_x-h.Dialog.padding/2-h.Dialog.control_button_width,y:h.Screen.center_y+360-h.Dialog.control_button_height,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},m={x:h.Screen.center_x+h.Dialog.padding/2,y:p.y,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},A=t=>{this.editing.has(t)?this.editing.delete(t):this.editing.add(t)};this.items=[new dt(r,h.Dialog.roundRadius,"White"),new lt(o,I("BodypartsPopup::Title"),{align:"center",emphasis:!0}),new St(this.editing,l,A),new Dt(this.editing,g,c,A),new at(d,I("General::Clear"),(()=>this.editing.clear())),new at(u,I("General::AllSet"),(()=>g.forEach((t=>this.editing.add(t.value))))),new at(p,I("General::Confirm"),(()=>{this.source.asActivity((t=>{this.editing.size===g.length?t.allow_bodyparts=void 0:t.allow_bodyparts=[...this.editing]})),N.save(),this.Exit()})),new at(m,I("General::Cancel"),(()=>this.Exit()))]}}const Wt=50,kt=50,Ct=260,Gt=40,Ot=565+h.Scrollbar.spacing+h.Scrollbar.width,Lt=Math.max(Ot,2*h.Dialog.control_button_width+h.Dialog.padding),Et=36+h.Dialog.padding+h.Input.height+h.Dialog.padding+400+h.Dialog.padding+h.Dialog.control_button_height;class Yt extends Q{constructor(t,e){super(),this.rect=t,this.memberList=e,this._table={x:t.x+5+Gt,y:t.y,width:520,height:400};const i={x:t.x+t.width-h.Scrollbar.width,y:t.y,width:h.Scrollbar.width,height:t.height};this.scrollbar=new vt({content_rows:this.memberList.length,container_rows:7},i)}Draw(t){this.scrollbar.update(this.memberList.length,7),it(this._table,h.Dialog.roundRadius),MainCanvas.strokeStyle="Gray",MainCanvas.lineWidth=2,MainCanvas.beginPath(),MainCanvas.moveTo(this._table.x,this._table.y+Wt),MainCanvas.lineTo(this._table.x+this._table.width,this._table.y+Wt),MainCanvas.stroke(),Array.from({length:7},((t,e)=>e)).forEach((t=>{const e=this._table.y+Wt+kt*t;MainCanvas.beginPath(),MainCanvas.moveTo(this._table.x,e),MainCanvas.lineTo(this._table.x+this._table.width,e),MainCanvas.stroke()})),X({x:this._table.x,y:this._table.y,width:Ct,height:Wt},I("CharaInfo::MemberID")),X({x:this._table.x+5+Ct,y:this._table.y,width:Ct,height:Wt},I("CharaInfo::Name")),Array.from({length:7},((t,e)=>e)).forEach((e=>{const i=this.scrollbar.offset+e,n=this.memberList[i];if(n){const i=this._table.y+Wt+kt*e,s=Ct,a=kt,r={x:this._table.x-5-Gt,y:i+25-20,width:Gt,height:Gt};X({x:this._table.x,y:i,width:s,height:a},n.toString());const o=Player?.FriendNames?.get(n)||"???";X({x:this._table.x+5+Ct,y:i,width:s,height:a},o),et(r,"trashbin",t,{hover:"#FF4040"})}})),this.scrollbar.Draw(t)}Click(t){Array.from({length:7},((t,e)=>e)).forEach((e=>{const i=this._table.y+Wt+kt*e,n=this.scrollbar.offset+e,s=this.memberList[n],a={x:this._table.x-5-Gt,y:i+25-20,width:Gt,height:Gt};s&&U(t,a)&&this.memberList.splice(this.memberList.indexOf(s),1)})),this.scrollbar.Click(t)}MouseWheel(t){this.scrollbar.MouseWheel(t),U({x:MouseX,y:MouseY},this._table)&&this.scrollbar.RawMouseWheel(t)}}class Bt extends At{constructor(t,e,i){super(t),this.prev=t,this.title=e,this.source=i,this.source_member_list=i,this.editing_member_list=[...i];const n={x:h.Screen.center_x-Lt/2-h.Dialog.padding,y:h.Screen.center_y-Et/2-h.Dialog.padding,width:Lt+2*h.Dialog.padding,height:Et+2*h.Dialog.padding},s={x:h.Screen.center_x,y:h.Screen.center_y-Et/2+18},a={x:h.Screen.center_x-Lt/2,y:h.Screen.center_y-Et/2+36+h.Dialog.padding,width:Lt-h.Dialog.control_button_width-h.Dialog.padding,height:h.Input.height},r={x:h.Screen.center_x+Lt/2-h.Dialog.control_button_width,y:a.y+h.Input.height/2-h.Dialog.control_button_height/2,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},o={x:h.Screen.center_x-Ot/2,y:a.y+a.height+h.Dialog.padding,width:Ot,height:400},l={x:h.Screen.center_x-h.Dialog.padding/2-h.Dialog.control_button_width,y:o.y+o.height+h.Dialog.padding,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},c={x:h.Screen.center_x+h.Dialog.padding/2,y:l.y,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},g=new mt(a,"MemberNumberInput","",I("MemberListPopup::InputID"));this.items=[new dt(n,h.Dialog.roundRadius,"White"),new lt(s,e,{align:"center",emphasis:!0}),g,new at(r,I("General::Add"),(()=>{const t=parseInt(g.text);!isNaN(t)&&t>0&&!this.editing_member_list.includes(t)&&(this.editing_member_list.push(t),g.Clear())}),(()=>{const t=parseInt(g.text);return!isNaN(t)&&t>0&&!this.editing_member_list.includes(t)})),new Yt(o,this.editing_member_list),new at(c,I("General::Cancel"),(()=>this.Exit())),new at(l,I("General::Confirm"),(()=>{this.source_member_list.splice(0,this.source_member_list.length,...this.editing_member_list),N.save(),this.Exit()}))]}}const Pt=36;class jt extends Q{constructor(t,e,i){super(),this.parent=t,this.state=e,this.rect=i,this._components=[];let n=i.y;const s=t=>t+106+20;this._activity_text={x:i.x,y:n+18},this._activity_state={x:i.x,y:n+Pt+10,width:i.width,height:60},n=s(n),this._bodypart_text={x:i.x,y:n+18},this._bodypart_state={x:i.x,y:n+Pt+10,width:i.width,height:60},n=s(n),this._allow_ids_text={x:i.x,y:n+18},this._allow_ids_state={x:i.x,y:n+Pt+10,width:i.width,height:60},this._components=[new lt(this._activity_text,I("TriggerInfo::OnActivity")),new lt(this._bodypart_text,I("TriggerInfo::OnBodyparts")),new lt(this._allow_ids_text,I("TriggerInfo::OnMembers")),new st(this._activity_state,(()=>this.state.asActivity((t=>(t=>{if(void 0===t)return I("TriggerInfo::AllActivities");if(0===t.length)return I("TriggerInfo::NoActivities");let e=t.slice(0,3).map((t=>ActivityDictionaryText(`Activity${t}`))).join(", ");return t.length>3&&(e+=I("TriggerInfo::AndMore",[t.length-3])),e})(t.allow_activities)))??""),(()=>F.setScreen(new Rt(this.parent,this.state)))),new st(this._bodypart_state,(()=>this.state.asActivity((t=>(t=>{if(void 0===t)return I("TriggerInfo::AllBodyparts");if(0===t.length)return I("TriggerInfo::NoBodyparts");let e=t.slice(0,3).map((t=>AssetGroupMap.get(t)?.Description??t)).join(", ");return t.length>3&&(e+=I("TriggerInfo::AndMore",[t.length-3])),e})(t.allow_bodyparts)))??""),(()=>F.setScreen(new Tt(this.parent,this.state)))),new st(this._allow_ids_state,(()=>this.state.asActivity((t=>(t=>{if(void 0===t||0===t.length)return I("TriggerInfo::AllMemberIDs");let e=t.slice(0,3).join(", ");return t.length>3&&(e+=I("TriggerInfo::AndMore",[t.length-3])),e})(t.allow_ids)))??""),(()=>F.setScreen(new Bt(this.parent,I("MemberListPopup::AllowIDs::Title"),this.state.asActivity((t=>(void 0===t.allow_ids&&(t.allow_ids=[]),t.allow_ids)))??[]))))]}Draw(t){this.state.asActivity((e=>{this._components.forEach((e=>e.Draw(t)))}))}Click(t){this.state.asActivity((e=>{this._components.forEach((e=>e.Click(t)))}))}Unload(){this._components.forEach((t=>t.Unload()))}}class zt{}class Ft extends zt{constructor(t){super(),this.state=t,this._state=t}get value(){return null===this._state.targetItem?"":this._state.targetItem.name}set value(t){null!==this._state.targetItem&&(this._state.targetItem.name=t.substring(0,20),N.save())}}class Qt extends zt{constructor(t){super(),this.state=t,this._state=t}get value(){return null!==this._state.targetItem&&this._state.targetItem.enabled}set value(t){null!==this._state.targetItem&&(this._state.targetItem.enabled=t,N.save())}}class Jt extends zt{constructor(t){super(),this.state=t,this._state=t}get value(){return null===this._state.targetItem?"activity":this._state.targetItem.trigger.mode}set value(t){null!==this._state.targetItem&&(this._state.targetItem.trigger.mode=t,N.save())}}class Ut extends zt{constructor(t,e){super(),this.property=t,this.state=e}get value(){if(null===this.state.targetItem)return"";return`${this.state.targetItem.trigger[this.property]||Ut.default_value[this.property]}`}set value(t){if(null!==this.state.targetItem){const e=this.state.targetItem.trigger;if(void 0===e[this.property]||"number"==typeof e[this.property]){let i=parseInt(t);isNaN(i)||(i<0&&(i=0),i>100&&(i=100),e[this.property]=i,N.save())}}}}Ut.default_value={min_arousal:0,max_arousal:100};class Vt extends zt{constructor(t){super(),this.state=t}get value(){if(null===this.state.targetItem)return!1;const t=this.state.targetItem.trigger;return void 0!==t.apply_favorite&&t.apply_favorite}set value(t){null!==this.state.targetItem&&(this.state.targetItem.trigger.apply_favorite=t,N.save())}}class Xt{get targetPersona(){return this.persona}TriggerName(){return new Ft(this)}TriggerEnabled(){return new Qt(this)}TriggerMode(){return{text:[{display:I("TriggerMode::activity"),value:"activity"},{display:I("TriggerMode::orgasm"),value:"orgasm"},{display:I("TriggerMode::spicer"),value:"spicer"},{display:I("TriggerMode::event"),value:"event"}],binding:new Jt(this)}}SpicerMinArousal(){return new Ut("min_arousal",this)}SpicerMaxArousal(){return new Ut("max_arousal",this)}SpicerApplyFavorite(){return new Vt(this)}asSpicer(t,e){if(null!==this.targetItem&&m(this.targetItem.trigger))return t(this.targetItem.trigger);void 0!==e&&e()}asActivity(t,e){if(null!==this.targetItem&&u(this.targetItem.trigger))return t(this.targetItem.trigger);void 0!==e&&e()}asHasAllowIds(t,e){if(null!==this.targetItem&&(u(this.targetItem.trigger)||m(this.targetItem.trigger)))return t(this.targetItem.trigger);void 0!==e&&e()}asOrgasm(t,e){if(null!==this.targetItem&&p(this.targetItem.trigger))return t(this.targetItem.trigger);void 0!==e&&e()}asBaseTrigger(t,e){if(null!==this.targetItem)return t(this.targetItem.trigger);void 0!==e&&e()}asRoomEvent(t,e){if(null!==this.targetItem&&"event"===this.targetItem.trigger.mode)return t(this.targetItem.trigger);void 0!==e&&e()}constructor(t){this.persona=t,this.targetItem=null,t.responses.length>0&&(this.targetItem=t.responses[0])}}class Ht extends Q{constructor(t,e){super(),this.setting=t,this.rect=e;const i=t.text.map((t=>MainCanvas.measureText(t.display).width+2*h.Text.padding)),n=i.reduce(((t,e)=>t.concat(t[t.length-1]+e)),[0]),s=n[n.length-1],a=e.width-2*h.SegmentButton.border,r=e.height-2*h.SegmentButton.border;this._rects=t.text.map(((t,o)=>({x:e.x+h.SegmentButton.border+a*n[o]/s,y:e.y+h.SegmentButton.border,width:a*i[o]/s,height:r}))),this.setting=t}Draw(t){const e={x:MouseX,y:MouseY};q(this.rect),this._rects.forEach(((i,n)=>{this.setting.binding.value===this.setting.text[n].value&&q(i,{fill:h.SegmentButton.active}),U(e,i)&&t&&q(i,{fill:h.SegmentButton.hover,stroke:"none"}),X(i,this.setting.text[n].display)}))}Click(t){this.setting.text.forEach(((e,i)=>{U(t,this._rects[i])&&(this.setting.binding.value=e.value)}))}}class Kt extends zt{constructor(t){super(),this.message=t}get value(){return this.message.type}set value(t){this.message.type=t}}const qt=500,$t=15;class te extends At{constructor(t,e,i,n){super(t),this.prev=t,this.target=e,this.confirm=i,this.del=n,this._input_state=e?{...e}:{type:"message",content:I("Default::ExampleMessage")},this._confirm_callback=i,this._delete_callback=n;const s=Math.max(800,3*h.Dialog.control_button_width+30),a=536+2*h.Dialog.control_button_height+45,r={x:h.Screen.center_x-s/2-h.Dialog.padding,y:h.Screen.center_y-a/2-h.Dialog.padding,width:s+2*h.Dialog.padding,height:a+2*h.Dialog.padding},o={x:h.Screen.center_x,y:r.y+h.Dialog.padding+18},l={x:h.Screen.center_x-s/2,y:h.Screen.center_y-a/2+36+$t,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},c={x:h.Screen.center_x+s/2-2*h.Dialog.control_button_width-$t,y:l.y,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},g={x:h.Screen.center_x+s/2-h.Dialog.control_button_width,y:l.y,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},d={x:h.Screen.center_x-400,y:l.y+$t+h.Dialog.control_button_height,width:800,height:qt},u={x:h.Screen.center_x-s/2,y:d.y+qt+$t,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},p={x:h.Screen.center_x+s/2-2*h.Dialog.control_button_width-$t,y:d.y+qt+$t,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height},m={x:p.x+h.Dialog.control_button_width+$t,y:d.y+qt+$t,width:h.Dialog.control_button_width,height:h.Dialog.control_button_height};this._text_input=new pt(d,"InputMessage",{text:this._input_state.content}),this.items=[new dt(r,h.Dialog.roundRadius,"White"),new lt(o,I("MessagePopup::EditMessage"),{align:"center",emphasis:!0}),this._text_input,new Ht({text:[{display:I("MessagePopup::Type::message"),value:"message"},{display:I("MessagePopup::Type::action"),value:"action"}],binding:new Kt(this._input_state)},l),new at(c,I("MessagePopup::InsertMe"),(()=>{this._text_input.InsertAtCursor("{me}")})),new at(g,I("MessagePopup::InsertOther"),(()=>{this._text_input.InsertAtCursor("{other}")})),new at(u,I("General::Delete"),(()=>{this.Exit(),this._delete_callback(this._input_state)})),new at(p,I("General::Confirm"),(()=>{this._input_state.content=this._text_input.text,this._confirm_callback(this._input_state),this.Exit()})),new at(m,I("General::Cancel"),(()=>this.Exit()))]}}const ee=10;class ie extends Q{constructor(t,e,i){super(),this.parent=t,this.state=e,this.rect=i,this._items_per_page=Math.floor((i.height-ee)/70),this._list_rect={x:i.x,y:i.y,width:i.width-h.Scrollbar.width-h.Scrollbar.spacing,height:i.height},this._itemRects=Array.from({length:this._items_per_page},((t,e)=>({x:this._list_rect.x+ee,y:this._list_rect.y+ee+70*e,width:this._list_rect.width-20,height:60})));const n={x:i.x+i.width-h.Scrollbar.width,y:i.y,width:h.Scrollbar.width,height:i.height};this.scrollbar=new vt({content_rows:this.state.targetItem?.messages.length??1,container_rows:this._items_per_page},n)}Draw(t){if(null===this.state.targetItem)return;this.scrollbar.update(this.state.targetItem.messages.length+1,this._itemRects.length);const e={x:MouseX,y:MouseY},i=this.state.targetItem;it(this._list_rect,40),this._itemRects.forEach(((n,s)=>{const a=this.scrollbar.offset+s,r=i.messages[a];r?function(t,e,i,n){e&&U(i,n)?q(n,{fill:h.Button.hover}):q(n);const s={x:n.x+n.height/2-20,y:n.y+n.height/2-20,width:40,height:40},a={x:n.x+n.height,y:n.y,width:n.width-n.height,height:n.height};"message"===t.type?nt(s,"chat"):"action"===t.type&&nt(s,"gesture"),X(a,t.content)}(r,t,e,n):i.messages.length===a&&tt(n,I("TriggerInfo::NewResponses"),t,{stroke:"DarkGrey"})})),this.scrollbar.Draw(t)}Click(t){if(null===this.state.targetItem)return;const e=this.state.targetItem;U(t,this._list_rect)&&this._itemRects.forEach(((i,n)=>{const s=this.scrollbar.offset+n,a=e.messages[s];a&&U(t,i)?F.setScreen(new te(this.parent,a,(t=>{e.messages[s]=t,N.save()}),(t=>{e.messages.splice(s,1),N.save()}))):e.messages.length===s&&U(t,i)&&F.setScreen(new te(this.parent,{type:"message",content:I("Default::ExampleMessage")},(t=>{e.messages.push(t),N.save()}),(()=>{})))})),this.scrollbar.Click(t)}MouseWheel(t){null!==this.state.targetItem&&(this.scrollbar.MouseWheel(t),U({x:MouseX,y:MouseY},this._list_rect)&&this.scrollbar.RawMouseWheel(t))}}class ne extends Q{get text(){return this._text?.value??""}CreateInput(){let t=document.createElement("input");return t.id=P(this.HTMLID),t.name=this.HTMLID,t.value=this.binding.value,t.setAttribute("screen-generated",CurrentScreen),t.className="HideOnPopup",t.onchange=()=>{this.binding.value=this.text.trim()},document.body.appendChild(t),t}constructor(t,e,i){super(),this.binding=t,this.HTMLID=e,this.rect=i,this._display_state="button",this._text=this.CreateInput()}Click(t){U(t,this.rect)?"button"===this._display_state&&(this._text||(this._text=this.CreateInput()),this._display_state="input"):"input"===this._display_state&&(this._text&&(this.binding.value=this.text.trim()),this._display_state="button")}OnChange(){this.binding.value=this.text.trim()}Draw(t){t?(this._text||(this._text=this.CreateInput()),"button"===this._display_state?(this.HideTextEdit(),function(t,e,i=!0,n){n||(n={});const s=n.idle||h.Button.idle,a=n.hover||h.Button.hover,r=n.stroke||h.Button.text,o=n.strokeWidth||2;MainCanvas.textAlign="center",K(t,i&&U({x:MouseX,y:MouseY},t)?a:s,r,o),X(t,e)}(this.rect,this.binding.value,t)):(this._text.hidden=!1,ut(this.rect,this._text))):this.HideTextEdit()}HideTextEdit(){this._text&&this._text.remove(),this._text=void 0}Unload(){this.HideTextEdit()}}class se extends Q{constructor(t,e){super(),this.state=t,this.rect=e;let i=e.width,n=e.height;i>2*n?i=2*n:n>2*i&&(n=2*i),this._rect={x:e.x+e.width/2-i/2,y:e.y+e.height/2-n/2,width:i,height:n};const s=n/2;this._radius=s-10,this._p_off={x:this._rect.x+s,y:this._rect.y+s},this._p_on={x:this._rect.x+this._rect.width-s,y:this._rect.y+s},this._animate_state={last_update:Date.now(),value:this.state.value?1:0}}Draw(t){const e=MainCanvas,i=Date.now()-this._animate_state.last_update;this.state.value?this._animate_state.value=Math.min(1,this._animate_state.value+i/100):this._animate_state.value=Math.max(0,this._animate_state.value-i/100),this._animate_state.last_update=Date.now();const n={x:this._p_off.x+(this._p_on.x-this._p_off.x)*this._animate_state.value,y:this._p_off.y};q(this._rect),e.fillStyle=this.state.value?h.Switch.on:h.Switch.off,e.beginPath(),e.arc(n.x,n.y,this._radius+5,0,2*Math.PI),e.fill(),e.stroke()}Click(t){U(t,this._rect)&&(this.state.value=!this.state.value)}}class ae extends Q{constructor(t,e,i){super(),this.parent=t,this.state=e,this.rect=i,this._editList=[],this._components=[];const n=250;let s=i.y;const a=t=>t+10+h.Input.height;this._min_arousal_text={x:i.x,y:s+h.Input.height/2},this._min_arousal_input={x:i.x+n,y:s,width:i.width-n,height:h.Input.height},s=a(s),this._max_arousal_text={x:i.x,y:s+h.Input.height/2},this._max_arousal_input={x:i.x+n,y:s,width:i.width-n,height:h.Input.height},s=a(s),this._apply_fav_text={x:i.x,y:s+h.Input.height/2},this._apply_fav_switch={x:i.x+ +i.width-120,y:s,width:120,height:h.Input.height},s=a(s),this._allow_ids_text={x:i.x,y:s+h.Input.height/2},s=a(s),this._allow_ids_state={x:i.x,y:s,width:i.width,height:h.Input.height},this._editList=[new ne(this.state.SpicerMinArousal(),"MinArousal",this._min_arousal_input),new ne(this.state.SpicerMaxArousal(),"MaxArousal",this._max_arousal_input)],this._components=[new lt(this._min_arousal_text,I("TriggerInfo::MinArousal")),new lt(this._max_arousal_text,I("TriggerInfo::MaxArousal")),...this._editList,new lt(this._apply_fav_text,I("TriggerInfo::ApplyFavorite")),new se(this.state.SpicerApplyFavorite(),this._apply_fav_switch),new lt(this._allow_ids_text,I("TriggerInfo::OnMembers")),new st(this._allow_ids_state,(()=>this.state.asSpicer((t=>(t=>{if(void 0===t||0===t.length)return I("TriggerInfo::AllMemberIDs");let e=t.slice(0,3).join(", ");return t.length>3&&(e+=I("TriggerInfo::AndMore",[t.length-3])),e})(t.allow_ids)))??""),(()=>F.setScreen(new Bt(this.parent,I("MemberListPopup::AllowIDs::Title"),this.state.asSpicer((t=>(void 0===t.allow_ids&&(t.allow_ids=[]),t.allow_ids)))??[]))))]}Draw(t){this.state.asSpicer((e=>{this._components.forEach((e=>e.Draw(t)))}),(()=>{this._editList.forEach((t=>t.Draw(!1)))}))}Click(t){this.state.asSpicer((e=>{this._components.forEach((e=>e.Click(t)))}))}Unload(){this._editList.forEach((t=>t.Unload()))}}class re extends zt{constructor(){super(...arguments),this.value=!1}}class oe extends Q{constructor(t,e){super(),this.parent=t,this.binding=new re;const i=e.width-h.Scrollbar.width-h.Scrollbar.spacing,n=i-10,s=Math.max(1,Math.floor((e.height-10+5)/65));this._layout_items=Array.from({length:s},((t,i)=>({x:e.x+5,y:e.y+5+65*i,width:n,height:60}))),this._delete_buttons=this._layout_items.map((t=>({x:t.x-10-40,y:t.y+t.height/2-20,width:40,height:40}))),this._upper_rect={x:e.x,y:e.y,width:i,height:e.height};const a={x:e.x+e.width-h.Scrollbar.width,y:e.y,width:h.Scrollbar.width,height:e.height};this.scroll=new vt({container_rows:this.parent.targetPersona.responses.length+1,content_rows:this._layout_items.length},a)}Draw(t){const e={x:MouseX,y:MouseY};it(this._upper_rect,35,{fill:"White",stroke:"Black"}),this.scroll.update(this.parent.targetPersona.responses.length+1,this._layout_items.length);let i=-1;t&&this._layout_items.forEach(((t,n)=>{U(e,t)&&(i=n)})),this.binding.value&&this._delete_buttons.forEach(((e,i)=>{i+this.scroll.offset<this.parent.targetPersona.responses.length&&et(e,"trashbin",t,{hover:"#FF4040"})})),this._layout_items.forEach(((t,e)=>{const n=e+this.scroll.offset;this.parent.targetItem&&this.parent.targetPersona.responses[n]==this.parent.targetItem&&q(t,{fill:h.Tab.active}),i===e&&n<=this.parent.targetPersona.responses.length&&q(t,{fill:h.Tab.hover,stroke:"none"}),n==this.parent.targetPersona.responses.length?X(t,I("TriggerInfo::AddNew"),{color:h.Text.Lesser}):n<this.parent.targetPersona.responses.length&&X(t,this.parent.targetPersona.responses[n].name)})),this.scroll.Draw(t)}Click(t){this.binding.value&&this._delete_buttons.forEach(((e,i)=>{const n=i+this.scroll.offset;n<this.parent.targetPersona.responses.length&&U(t,e)&&(this.parent.targetPersona.responses.splice(n,1),N.save())})),this._layout_items.forEach(((e,i)=>{const n=i+this.scroll.offset;U(t,e)&&(n==this.parent.targetPersona.responses.length?(this.parent.targetPersona.responses.push({name:I("Default::NewResponseName"),enabled:!1,trigger:{mode:"activity",allow_activities:[]},messages:[]}),this.parent.targetItem=this.parent.targetPersona.responses[n],N.save()):n<this.parent.targetPersona.responses.length&&(this.parent.targetItem=this.parent.targetPersona.responses[n]))})),this.scroll.Click(t)}MouseWheel(t){U({x:MouseX,y:MouseY},this._upper_rect)&&this.scroll.RawMouseWheel(t)}}const he=450,le=60;class ce extends Q{constructor(t,e){super(),this.state=t,this.rect=e;const i=e.x+150,n={x:e.x,y:e.y+30},s={x:i,y:e.y,width:he,height:le},a={x:e.x,y:n.y+le+10},r={x:i+he-120,y:s.y+le+10,width:120,height:le},o={x:e.x,y:a.y+le+10},h={x:i,y:r.y+le+10,width:he,height:le};this.components=[new lt(n,I("TriggerInfo::Name")),new ne(this.state.TriggerName(),"InputTriggerName",s),new lt(a,I("TriggerInfo::OnOff")),new se(this.state.TriggerEnabled(),r),new lt(o,I("TriggerInfo::Mode")),new Ht(this.state.TriggerMode(),h)]}Draw(t){this.components.forEach((e=>e.Draw(t)))}Click(t){this.components.forEach((e=>e.Click(t)))}Unload(){this.components.forEach((t=>t.Unload()))}static Metrics(){return{width:600,height:220}}}class ge extends zt{constructor(t){super(),this.state=t}get value(){return this.state.asOrgasm((t=>(void 0===t.type&&(t.type="Orgasmed"),t.type)))??"Orgasmed"}set value(t){this.state.asOrgasm((e=>e.type=t)),N.save()}}class de extends Q{constructor(t,e,i){super(),this.parent=t,this.state=e,this.rect=i,this._components=[];const n={x:i.x,y:i.y+18},s={x:i.x,y:i.y+36+10,width:i.width,height:60},a={text:[{display:I("TriggerInfo::Orgasm::Type::Orgasmed"),value:"Orgasmed"},{display:I("TriggerInfo::Orgasm::Type::Ruined"),value:"Ruined"},{display:I("TriggerInfo::Orgasm::Type::Resisted"),value:"Resisted"},{display:I("TriggerInfo::Orgasm::Type::Any"),value:"Any"}],binding:new ge(e)};this._components=[new lt(n,I("TriggerInfo::Orgasm::Type")),new Ht(a,s)]}Draw(t){this.state.asOrgasm((e=>{this._components.forEach((e=>e.Draw(t)))}))}Click(t){this.state.asOrgasm((e=>{this._components.forEach((e=>e.Click(t)))}))}}class ue extends zt{constructor(t){super(),this.state=t}get value(){return this.state.asRoomEvent((t=>(void 0===t.event&&(t.event="Join"),t.event)))??"Join"}set value(t){this.state.asRoomEvent((e=>e.event=t)),N.save()}}class pe extends Q{constructor(t,e,i){super(),this.parent=t,this.state=e,this.rect=i,this._components=[];const n={x:i.x,y:i.y+18},s={x:i.x,y:i.y+36+10,width:i.width,height:60},a={text:[{display:I("TriggerInfo::RoomEvent::Type::Join"),value:"Join"},{display:I("TriggerInfo::RoomEvent::Type::Leave"),value:"Leave"}],binding:new ue(e)};this._components=[new lt(n,I("TriggerInfo::RoomEvent::Type")),new Ht(a,s)]}Draw(t){this.state.asRoomEvent((e=>{this._components.forEach((e=>e.Draw(t)))}))}Click(t){this.state.asRoomEvent((e=>{this._components.forEach((e=>e.Click(t)))}))}}const me=200,Ae=180,ye={x:Ae,y:me,width:350,height:60},be={x:Ae,y:ye.y+ye.height+10,width:350,height:60},we=be.y+be.height+50,Me={x:Ae,y:we,width:350,height:880-we},ve={x:Me.x+Me.width+50,y:me,...ce.Metrics()},Ie={x:ve.x,y:me+ve.height+30,width:ve.width,height:680-ve.height-30},xe=1640-Me.width-50-ve.width-50,De={x:1820-xe,y:me,width:xe,height:680},fe={x:1550,y:110,width:200,height:60},_e={x:fe.x-30,y:fe.y+fe.height/2};class Ne extends J{constructor(t=null,e){super(t),this.prev=t,this.persona=e,this._state=new Xt(e),this.triggerTab=new oe(this._state,Me),this.items=[new ht,new ct(ye,(()=>this.persona.name),{emphasis:!0}),new at(be,I("PersonaInfo::BlackList"),(()=>F.setScreen(new Bt(this,I("MemberListPopup::PersonaBlackList::Title"),e.blackList)))),new ie(this,this._state,De),new jt(this,this._state,Ie),new ae(this,this._state,Ie),new de(this,this._state,Ie),new pe(this,this._state,Ie),new ce(this._state,ve),this.triggerTab,new lt(_e,I("PersonaMenu::DeleteMode"),{align:"right"}),new se(this.triggerTab.binding,fe),new rt((()=>this.Exit()))]}}const Re=200,Se=100;class Ze extends zt{get value(){return N.instance.data.settings.enabled}set value(t){N.instance.data.settings.enabled=t,N.save()}}Ze.instance=new Ze;class Te extends J{constructor(t=null){super(t),this.prev=t,this.items=[new rt((()=>this.Exit())),new ht,new lt({x:420,y:250},I("MainMenu::MainSwitch")),new se(Ze.instance,{x:Re,y:210,width:160,height:80}),new at({x:Re,y:320,width:400,height:Se},I("MainMenu::PersonalitySetting"),(()=>F.setScreen(new Mt(this)))),new at({x:Re,y:440,width:400,height:Se},I("MainMenu::ResponseSetting"),(()=>{const t=N.active_personality;t&&F.setScreen(new Ne(this,t))})),new ot({x:1700,y:800,width:100,height:100},h.Dialog.roundRadius,"github",(()=>window.open(r)))]}}!function(){if(window.BondageClubResponsive_Loaded)return;window.BondageClubResponsive_Loaded=!1;let t=n.registerMod({name:a,fullName:a,version:s,repository:r});W.init(t).then(L),G.init(t).then(E),F.init(t,(()=>new Te)),N.init(t),k.init("BCR_CustomAction"),window.BondageClubResponsive_Loaded=!0,console.log(`${a} v${s} loaded.`)}()}();
//# sourceMappingURL=main.js.map
